let BurgerIcon=document.querySelector(".screen_icon"),menu=document.querySelector(".header_menu"),body=document.querySelector("body"),logo=document.querySelector(".header_logo"),menuItems=document.querySelectorAll(".top_nav li");function toggleNav(){logo.classList.toggle("invisible"),BurgerIcon.classList.toggle("responsive"),menu.classList.toggle("responsive"),body.classList.toggle("lock")}BurgerIcon.onclick=toggleNav,menuItems.forEach(e=>{e.addEventListener("click",()=>{logo.classList.remove("invisible"),BurgerIcon.classList.toggle("responsive"),menu.classList.toggle("responsive")})});let arrowTop=document.createElement("span");function ieTop(){let e=window.pageYOffset;window.scrollTo(0,e-50),setTimeout((function(){e<=0?window.scrollTo(0,0):ieTop()}),10)}arrowTop.id="scrollTop",window.onscroll=function(){window.pageYOffset>window.innerHeight?arrowTop.style.opacity="1":arrowTop.style.opacity="0"},arrowTop.onclick=function(){navigator.userAgent.indexOf("Trident")>-1?ieTop():window.scrollTo(0,0)},document.body.appendChild(arrowTop);let prev=document.querySelector("#prev_btn"),next=document.querySelector("#next_btn"),slideWidth=document.querySelector(".slider_item").getBoundingClientRect().width,slider=document.querySelector(".slider"),currentPosition=0;function scrollPic(e){e.preventDefault();let t=slider.lastElementChild,o=slider.firstElementChild;"prev_btn"===e.target.id?(currentPosition-=slideWidth,currentPosition<=0&&(t.remove(),slider.insertBefore(t,o),currentPosition+=slideWidth)):"next_btn"===e.target.id&&(currentPosition+=slideWidth,currentPosition>=slider.scrollWidth-slider.clientWidth&&(o.remove(),slider.appendChild(o),currentPosition-=slideWidth)),slider.scroll(currentPosition,0)}prev.onclick=scrollPic,next.onclick=scrollPic;let jobsPic=document.querySelectorAll(".jobs_pic"),categories=document.querySelectorAll(".latest_works_list");function jobsPop(e){jobsPic.forEach(t=>{let o=document.querySelector(".selected");o&&o.classList.remove("selected"),e.target.classList.add("selected"),t.classList.remove("invisible"),t.dataset.category.match(e.target.dataset.trend)||"All"===e.target.dataset.trend||(t.classList.add("invisible"),localStorage.setItem("last category",e.target.dataset.trend))})}categories.forEach(e=>{e.addEventListener("click",jobsPop)});let mediaSlides=document.querySelectorAll(".full_media"),activeMedia=0;function changeBrand(e){e&&e.preventDefault(),mediaSlides[activeMedia].classList.remove("active_media"),activeMedia+1==mediaSlides.length?activeMedia=0:activeMedia++,mediaSlides[activeMedia].classList.add("active_media")}mediaSlides[0].classList.add("active_media"),mediaSlides.forEach(e=>{e.onclick=changeBrand}),setInterval(changeBrand,2500);let dots,slides=document.querySelectorAll(".quote_slides"),quoteContainer=document.querySelector(".quote_container"),dotsContainer=document.createElement("div");function changeSlide(e){dots.forEach(e=>{e.classList.remove("active_dot")}),e.classList.add("active_dot"),slides.forEach((t,o)=>{t.classList.remove("active_quote"),e.getAttribute("data-dot")==o&&t.classList.add("active_quote")})}slides[0].classList.add("active_quote"),dotsContainer.classList.add("dots_container"),quoteContainer.appendChild(dotsContainer),slides.forEach((e,t)=>{e.dataset.order=t,dotsContainer.innerHTML+=`<span class='dots' data-dot='${t}' onclick='changeSlide(this)'></span>`}),dots=document.querySelectorAll(".dots"),dots[0].classList.add("active_dot");let form=document.querySelector("#jsContactForm"),fieldName=document.querySelector("#formName"),fieldEmail=document.querySelector("#formEmail"),fieldPhone=document.querySelector("#formPhone"),fieldCompany=document.querySelector("#formCompany");form.addEventListener("submit",(function(e){e.preventDefault();const t={name:fieldName.value,email:fieldEmail.value,phone:fieldPhone.value,company:fieldCompany.value};localStorage.setItem("user",JSON.stringify(t))}));let lastUserData=JSON.parse(localStorage.getItem("user"));lastUserData&&(fieldName.value=lastUserData.name,fieldEmail.value=lastUserData.email,fieldPhone.value=lastUserData.phone,fieldCompany.value=lastUserData.company);let phonePattern=/^[+]?[\s|0-9]*[(]?[0-9]{1,4}[)]?[-\s|0-9]*$/,wrongNumber=document.createElement("p");function phoneValidate(e){let t=fieldPhone.value;if(!phonePattern.test(t))return fieldPhone.style.borderColor="#A41D00",form.appendChild(wrongNumber),form.style.position="relative",wrongNumber.style.position="absolute",wrongNumber.style.width="200px",wrongNumber.style.height="30px",wrongNumber.style.top="30%",wrongNumber.style.left="0%",wrongNumber.style.justifyContent="center",wrongNumber.style.alignItems="center",wrongNumber.style.color="#A41D00",wrongNumber.style.fontSize="12px",wrongNumber.style.fontWeight="400",wrongNumber.innerHTML="Invalid number format",!1}wrongNumber.className="errorForm",fieldPhone.addEventListener("blur",phoneValidate),fieldPhone.addEventListener("focus",e=>{document.querySelector(".errorForm")&&(form.removeChild(wrongNumber),fieldPhone.style.borderColor="#555")}),(void 0===localStorage.visits||isNaN(localStorage.visits))&&(localStorage.visits=0),localStorage.setItem("visits",++localStorage.visits);let headerBlock=document.querySelector(".welcome"),blockWithAlert=document.createElement("p");if(window.onbeforeunload=()=>{let e=(new Date).toDateString();localStorage.setItem("lastVisit",e)},void 0!==localStorage.lastVisit){let e=localStorage.getItem("lastVisit");Date.now()-new Date(e).getTime()>864e5&&(console.log(Date.now()),console.log(new Date(e).getTime()),console.log(Date.now()-new Date(e).getTime()),headerBlock.style.position="relative",headerBlock.appendChild(blockWithAlert),blockWithAlert.innerHTML="Your last visit was on "+e,blockWithAlert.style.position="absolute",blockWithAlert.style.color="#dec4a9",blockWithAlert.style.top="0%",blockWithAlert.style.left="10%",blockWithAlert.style.right="10%")}else headerBlock.style.position="relative",headerBlock.appendChild(blockWithAlert),blockWithAlert.innerHTML="It`s your first time on this site. Welcome!",blockWithAlert.style.position="absolute",blockWithAlert.style.top="0%",blockWithAlert.style.left="10%",blockWithAlert.style.right="10%";setTimeout((function(){blockWithAlert.style.opacity="0",blockWithAlert.style.transform="translateX(-30%)",blockWithAlert.style.transition="2s",setTimeout(()=>{headerBlock.removeChild(blockWithAlert)},2e3)}),3e3);let blogSummaries=document.querySelectorAll("summary");function hideSummaries(e){e.target.classList.toggle("invisible")}blogSummaries.forEach(e=>{e.addEventListener("click",hideSummaries)});let popupLink=document.querySelector(".popup_link"),popup=document.querySelector(".popup_body"),popupCloseIcon=document.querySelector(".popup_close"),header=document.querySelector("header"),popupCover=document.createElement("div");function popupOpen(){popupCover.style.position="fixed",popupCover.style.width="100vw",popupCover.style.height="100vh",popupCover.style.backgroundColor="rgba(0, 0, 0, .8)",popupCover.style.top="0",popupCover.style.left="0",popupCover.style.overflow="hidden",body.appendChild(popupCover),popup.classList.add("popup_open")}function popupClose(){popup.classList.remove("popup_open"),body.removeChild(popupCover),bodyUnlock()}function bodyLock(){header.style.paddingRight=window.innerWidth-body.offsetWidth+"px",body.classList.add("lock")}function bodyUnlock(){header.style.paddingRight="0px",body.classList.remove("lock")}function drag(e){let t=e.clientX-popup.getBoundingClientRect().left,o=e.clientY-popup.getBoundingClientRect().top;function l(e,l){popup.style.left=e-t+"px",popup.style.top=l-o+"px"}function i(e){l(e.pageX,e.pageY)}popup.style.zIndex="1000",popup.style.transform="translate(0,0)",l(e.pageX,e.pageY),document.addEventListener("mousemove",i),popup.onmouseup=function(){document.removeEventListener("mousemove",i),popup.onmouseup=null}}popupLink.addEventListener("click",()=>{event.preventDefault(),bodyLock(),popupOpen()}),popupCloseIcon.addEventListener("click",()=>{event.preventDefault(),popupClose()}),popupCover.addEventListener("click",()=>{event.target!==document.querySelector(".popup_content")&&popupClose()}),document.addEventListener("keydown",e=>{if(27===e.which){popupClose(document.querySelector(".popup_open"))}}),popup.addEventListener("mousedown",drag);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJCdXJnZXJJY29uIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibWVudSIsImJvZHkiLCJsb2dvIiwibWVudUl0ZW1zIiwicXVlcnlTZWxlY3RvckFsbCIsInRvZ2dsZU5hdiIsImNsYXNzTGlzdCIsInRvZ2dsZSIsIm9uY2xpY2siLCJmb3JFYWNoIiwiaXRlbSIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmUiLCJhcnJvd1RvcCIsImNyZWF0ZUVsZW1lbnQiLCJpZVRvcCIsInRvcCIsIndpbmRvdyIsInBhZ2VZT2Zmc2V0Iiwic2Nyb2xsVG8iLCJzZXRUaW1lb3V0IiwiaWQiLCJvbnNjcm9sbCIsImlubmVySGVpZ2h0Iiwic3R5bGUiLCJvcGFjaXR5IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiaW5kZXhPZiIsImFwcGVuZENoaWxkIiwicHJldiIsIm5leHQiLCJzbGlkZVdpZHRoIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwid2lkdGgiLCJzbGlkZXIiLCJjdXJyZW50UG9zaXRpb24iLCJzY3JvbGxQaWMiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwibGFzdEVsZW0iLCJsYXN0RWxlbWVudENoaWxkIiwiZmlyc3RFbGVtIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJ0YXJnZXQiLCJpbnNlcnRCZWZvcmUiLCJzY3JvbGxXaWR0aCIsImNsaWVudFdpZHRoIiwic2Nyb2xsIiwiam9ic1BpYyIsImNhdGVnb3JpZXMiLCJqb2JzUG9wIiwiZWxlbSIsInNlbGVjdGVkIiwiYWRkIiwiZGF0YXNldCIsImNhdGVnb3J5IiwibWF0Y2giLCJ0cmVuZCIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJtZWRpYVNsaWRlcyIsImFjdGl2ZU1lZGlhIiwiY2hhbmdlQnJhbmQiLCJsZW5ndGgiLCJicmFuZCIsInNldEludGVydmFsIiwiZG90cyIsInNsaWRlcyIsInF1b3RlQ29udGFpbmVyIiwiZG90c0NvbnRhaW5lciIsImNoYW5nZVNsaWRlIiwiZG90IiwicXVvdGUiLCJpbmRleCIsImdldEF0dHJpYnV0ZSIsIm9yZGVyIiwiaW5uZXJIVE1MIiwiZm9ybSIsImZpZWxkTmFtZSIsImZpZWxkRW1haWwiLCJmaWVsZFBob25lIiwiZmllbGRDb21wYW55IiwidXNlckRhdGEiLCJuYW1lIiwidmFsdWUiLCJlbWFpbCIsInBob25lIiwiY29tcGFueSIsIkpTT04iLCJzdHJpbmdpZnkiLCJsYXN0VXNlckRhdGEiLCJwYXJzZSIsImdldEl0ZW0iLCJwaG9uZVBhdHRlcm4iLCJ3cm9uZ051bWJlciIsInBob25lVmFsaWRhdGUiLCJwaG9uZU51bWIiLCJ0ZXN0IiwiYm9yZGVyQ29sb3IiLCJwb3NpdGlvbiIsImhlaWdodCIsImxlZnQiLCJqdXN0aWZ5Q29udGVudCIsImFsaWduSXRlbXMiLCJjb2xvciIsImZvbnRTaXplIiwiZm9udFdlaWdodCIsImNsYXNzTmFtZSIsInJlbW92ZUNoaWxkIiwidW5kZWZpbmVkIiwidmlzaXRzIiwiaXNOYU4iLCJoZWFkZXJCbG9jayIsImJsb2NrV2l0aEFsZXJ0Iiwib25iZWZvcmV1bmxvYWQiLCJkYXRlIiwiRGF0ZSIsInRvRGF0ZVN0cmluZyIsImxhc3RWaXNpdCIsImxhc3REYXRlIiwibm93IiwiZ2V0VGltZSIsImNvbnNvbGUiLCJsb2ciLCJyaWdodCIsInRyYW5zZm9ybSIsInRyYW5zaXRpb24iLCJibG9nU3VtbWFyaWVzIiwiaGlkZVN1bW1hcmllcyIsInN1bW1hcnkiLCJwb3B1cExpbmsiLCJwb3B1cCIsInBvcHVwQ2xvc2VJY29uIiwiaGVhZGVyIiwicG9wdXBDb3ZlciIsInBvcHVwT3BlbiIsImJhY2tncm91bmRDb2xvciIsIm92ZXJmbG93IiwicG9wdXBDbG9zZSIsImJvZHlVbmxvY2siLCJib2R5TG9jayIsInBhZGRpbmdSaWdodCIsImlubmVyV2lkdGgiLCJvZmZzZXRXaWR0aCIsImRyYWciLCJzaGlmdFgiLCJjbGllbnRYIiwic2hpZnRZIiwiY2xpZW50WSIsIm1vdmVQb3B1cCIsInBhZ2VYIiwicGFnZVkiLCJvbk1vdXNlTW92ZSIsInpJbmRleCIsIm9ubW91c2V1cCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ3aGljaCJdLCJtYXBwaW5ncyI6IkFBQ0EsSUFBSUEsV0FBYUMsU0FBU0MsY0FBYyxnQkFDcENDLEtBQU9GLFNBQVNDLGNBQWMsZ0JBQzlCRSxLQUFPSCxTQUFTQyxjQUFjLFFBQzlCRyxLQUFPSixTQUFTQyxjQUFjLGdCQUM5QkksVUFBWUwsU0FBU00saUJBQWlCLGVBSTFDLFNBQVNDLFlBQ0xILEtBQUtJLFVBQVVDLE9BQU8sYUFDdEJWLFdBQVdTLFVBQVVDLE9BQU8sY0FDNUJQLEtBQUtNLFVBQVVDLE9BQU8sY0FDdEJOLEtBQUtLLFVBQVVDLE9BQU8sUUFOMUJWLFdBQVdXLFFBQVVILFVBU3JCRixVQUFVTSxRQUFTQyxJQUNmQSxFQUFLQyxpQkFBaUIsUUFBUyxLQUMzQlQsS0FBS0ksVUFBVU0sT0FBTyxhQUN0QmYsV0FBV1MsVUFBVUMsT0FBTyxjQUM1QlAsS0FBS00sVUFBVUMsT0FBTyxrQkFLOUIsSUFBSU0sU0FBV2YsU0FBU2dCLGNBQWMsUUFtQnRDLFNBQVNDLFFBQ0wsSUFBSUMsRUFBTUMsT0FBT0MsWUFDakJELE9BQU9FLFNBQVMsRUFBR0gsRUFBTSxJQUN6QkksWUFBVyxXQUNISixHQUFPLEVBQ1BDLE9BQU9FLFNBQVMsRUFBRyxHQUVuQkosVUFFTCxJQTFCUEYsU0FBU1EsR0FBSyxZQUNkSixPQUFPSyxTQUFXLFdBQ1ZMLE9BQU9DLFlBQWNELE9BQU9NLFlBQzVCVixTQUFTVyxNQUFNQyxRQUFVLElBRXpCWixTQUFTVyxNQUFNQyxRQUFVLEtBR2pDWixTQUFTTCxRQUFVLFdBQ1hrQixVQUFVQyxVQUFVQyxRQUFRLFlBQWMsRUFDMUNiLFFBRUFFLE9BQU9FLFNBQVMsRUFBRyxJQWlCM0JyQixTQUFTRyxLQUFLNEIsWUFBWWhCLFVBRzFCLElBQUlpQixLQUFPaEMsU0FBU0MsY0FBYyxhQUM5QmdDLEtBQU9qQyxTQUFTQyxjQUFjLGFBQzlCaUMsV0FBYWxDLFNB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QUFVZixNQUFNbkcsd0JBQXdCcUUsS0FDdkQ4QyxFQUFTOUcsRUFBTStHLFFBQVVqQixNQUFNbkcsd0JBQXdCakIsSUFPM0QsU0FBU3NJLEVBQVVDLEVBQU9DLEdBQ3RCcEIsTUFBTTVHLE1BQU04RSxLQUFPaUQsRUFBUUwsRUFBUyxLQUNwQ2QsTUFBTTVHLE1BQU1SLElBQU13SSxFQUFRSixFQUFTLEtBR3ZDLFNBQVNLLEVBQVluSCxHQUNqQmdILEVBQVVoSCxFQUFNaUgsTUFBT2pILEVBQU1rSCxPQVpqQ3BCLE1BQU01RyxNQUFNa0ksT0FBUyxPQUNyQnRCLE1BQU01RyxNQUFNc0csVUFBWSxpQkFHeEJ3QixFQUFVaEgsRUFBTWlILE1BQU9qSCxFQUFNa0gsT0FXN0IxSixTQUFTYSxpQkFBaUIsWUFBYThJLEdBQ3ZDckIsTUFBTXVCLFVBQVksV0FDZDdKLFNBQVM4SixvQkFBb0IsWUFBYUgsR0FDMUNyQixNQUFNdUIsVUFBWSxNQTdFMUJ4QixVQUFVeEgsaUJBQWlCLFFBQVMsS0FDaEMyQixNQUFNQyxpQkFDTnNHLFdBQ0FMLGNBR0pILGVBQWUxSCxpQkFBaUIsUUFBUyxLQUNyQzJCLE1BQU1DLGlCQUVOb0csZUFHSkosV0FBVzVILGlCQUFpQixRQUFTLEtBQzdCMkIsTUFBTU0sU0FBVzlDLFNBQVNDLGNBQWMsbUJBQ3hDNEksZUFnQ1I3SSxTQUFTYSxpQkFBaUIsVUFBWTJCLElBQ2xDLEdBQW9CLEtBQWhCQSxFQUFNdUgsTUFBYyxDQUVwQmxCLFdBRGtCN0ksU0FBU0MsY0FBYyxtQkFNakRxSSxNQUFNekgsaUJBQWlCLFlBQWFzSSIsImZpbGUiOiJzY3JpcHQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyAqKiogQlVSR0VSIE1FTlUgKioqIC8vXHJcbmxldCBCdXJnZXJJY29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zY3JlZW5faWNvblwiKSxcclxuICAgIG1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhlYWRlcl9tZW51XCIpLFxyXG4gICAgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJib2R5XCIpLFxyXG4gICAgbG9nbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGVhZGVyX2xvZ29cIiksXHJcbiAgICBtZW51SXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnRvcF9uYXYgbGlcIilcclxuXHJcbkJ1cmdlckljb24ub25jbGljayA9IHRvZ2dsZU5hdlxyXG5cclxuZnVuY3Rpb24gdG9nZ2xlTmF2KCkge1xyXG4gICAgbG9nby5jbGFzc0xpc3QudG9nZ2xlKFwiaW52aXNpYmxlXCIpXHJcbiAgICBCdXJnZXJJY29uLmNsYXNzTGlzdC50b2dnbGUoXCJyZXNwb25zaXZlXCIpXHJcbiAgICBtZW51LmNsYXNzTGlzdC50b2dnbGUoXCJyZXNwb25zaXZlXCIpXHJcbiAgICBib2R5LmNsYXNzTGlzdC50b2dnbGUoXCJsb2NrXCIpXHJcbn1cclxuXHJcbm1lbnVJdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgIGxvZ28uY2xhc3NMaXN0LnJlbW92ZShcImludmlzaWJsZVwiKVxyXG4gICAgICAgIEJ1cmdlckljb24uY2xhc3NMaXN0LnRvZ2dsZShcInJlc3BvbnNpdmVcIilcclxuICAgICAgICBtZW51LmNsYXNzTGlzdC50b2dnbGUoXCJyZXNwb25zaXZlXCIpXHJcbiAgICB9KVxyXG59KVxyXG5cclxuLy8gKioqIFNDUk9MTCBUTyBUT1AgRk9SIE5PUk1BTCBCUk9XU0VSUyAqKiogLy9cclxubGV0IGFycm93VG9wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIilcclxuXHJcbmFycm93VG9wLmlkID0gJ3Njcm9sbFRvcCdcclxud2luZG93Lm9uc2Nyb2xsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKHdpbmRvdy5wYWdlWU9mZnNldCA+IHdpbmRvdy5pbm5lckhlaWdodCkge1xyXG4gICAgICAgIGFycm93VG9wLnN0eWxlLm9wYWNpdHkgPSBcIjFcIlxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBhcnJvd1RvcC5zdHlsZS5vcGFjaXR5ID0gXCIwXCJcclxuICAgIH1cclxufVxyXG5hcnJvd1RvcC5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIlRyaWRlbnRcIikgPiAtMSkge1xyXG4gICAgICAgIGllVG9wKClcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsIDApXHJcbiAgICB9XHJcbn1cclxuXHJcbi8vICoqKiBTQ1JPTEwgVE8gVE9QIEZPUiBMT1ZFTFkgSUUgKioqIC8vXHJcbmZ1bmN0aW9uIGllVG9wKCkge1xyXG4gICAgbGV0IHRvcCA9IHdpbmRvdy5wYWdlWU9mZnNldFxyXG4gICAgd2luZG93LnNjcm9sbFRvKDAsIHRvcCAtIDUwKVxyXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRvcCA8PSAwKSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCAwKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGllVG9wKClcclxuICAgICAgICB9XHJcbiAgICB9LCAxMClcclxufVxyXG5cclxuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhcnJvd1RvcClcclxuXHJcbi8vICoqKiBNQUlOIFNMSURFUiBXSVRIIERFVkVMT1BFUlMgKioqIC8vXHJcbmxldCBwcmV2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcmV2X2J0blwiKSxcclxuICAgIG5leHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI25leHRfYnRuXCIpLFxyXG4gICAgc2xpZGVXaWR0aCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2xpZGVyX2l0ZW1cIikuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGgsXHJcbiAgICBzbGlkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNsaWRlclwiKSxcclxuICAgIGN1cnJlbnRQb3NpdGlvbiA9IDBcclxuXHJcbnByZXYub25jbGljayA9IHNjcm9sbFBpY1xyXG5uZXh0Lm9uY2xpY2sgPSBzY3JvbGxQaWNcclxuXHJcbmZ1bmN0aW9uIHNjcm9sbFBpYyhldmVudCkge1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxyXG4gICAgbGV0IGxhc3RFbGVtID0gc2xpZGVyLmxhc3RFbGVtZW50Q2hpbGQsXHJcbiAgICAgICAgZmlyc3RFbGVtID0gc2xpZGVyLmZpcnN0RWxlbWVudENoaWxkXHJcbiAgICBpZiAoZXZlbnQudGFyZ2V0LmlkID09PSBcInByZXZfYnRuXCIpIHtcclxuICAgICAgICBjdXJyZW50UG9zaXRpb24gLT0gc2xpZGVXaWR0aFxyXG4gICAgICAgIGlmIChjdXJyZW50UG9zaXRpb24gPD0gMCkge1xyXG4gICAgICAgICAgICBsYXN0RWxlbS5yZW1vdmUoKVxyXG4gICAgICAgICAgICBzbGlkZXIuaW5zZXJ0QmVmb3JlKGxhc3RFbGVtLCBmaXJzdEVsZW0pXHJcbiAgICAgICAgICAgIGN1cnJlbnRQb3NpdGlvbiArPSBzbGlkZVdpZHRoXHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChldmVudC50YXJnZXQuaWQgPT09IFwibmV4dF9idG5cIikge1xyXG4gICAgICAgIGN1cnJlbnRQb3NpdGlvbiArPSBzbGlkZVdpZHRoXHJcbiAgICAgICAgaWYgKGN1cnJlbnRQb3NpdGlvbiA+PSAoc2xpZGVyLnNjcm9sbFdpZHRoIC0gc2xpZGVyLmNsaWVudFdpZHRoKSkge1xyXG4gICAgICAgICAgICBmaXJzdEVsZW0ucmVtb3ZlKClcclxuICAgICAgICAgICAgc2xpZGVyLmFwcGVuZENoaWxkKGZpcnN0RWxlbSlcclxuICAgICAgICAgICAgY3VycmVudFBvc2l0aW9uIC09IHNsaWRlV2lkdGhcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzbGlkZXIuc2Nyb2xsKGN1cnJlbnRQb3NpdGlvbiwgMClcclxufVxyXG5cclxuLy8gKioqIEpPQmBTIFBPUCAqKiogLy9cclxubGV0IGpvYnNQaWMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmpvYnNfcGljXCIpLFxyXG4gICAgY2F0ZWdvcmllcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubGF0ZXN0X3dvcmtzX2xpc3RcIilcclxuXHJcbmNhdGVnb3JpZXMuZm9yRWFjaCgoY2F0ZWdvcnkpID0+IHtcclxuICAgIGNhdGVnb3J5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgam9ic1BvcClcclxufSlcclxuXHJcbmZ1bmN0aW9uIGpvYnNQb3AoZXZlbnQpIHtcclxuICAgIGpvYnNQaWMuZm9yRWFjaCgoZWxlbSkgPT4ge1xyXG4gICAgICAgIGxldCBzZWxlY3RlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VsZWN0ZWRcIilcclxuICAgICAgICBpZiAoc2VsZWN0ZWQpIHNlbGVjdGVkLmNsYXNzTGlzdC5yZW1vdmUoXCJzZWxlY3RlZFwiKVxyXG4gICAgICAgIGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuYWRkKFwic2VsZWN0ZWRcIilcclxuICAgICAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoXCJpbnZpc2libGVcIilcclxuICAgICAgICBpZiAoIWVsZW0uZGF0YXNldC5jYXRlZ29yeS5tYXRjaChldmVudC50YXJnZXQuZGF0YXNldC50cmVuZCkgJiYgZXZlbnQudGFyZ2V0LmRhdGFzZXQudHJlbmQgIT09ICdBbGwnKSB7XHJcbiAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LmFkZChcImludmlzaWJsZVwiKVxyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbGFzdCBjYXRlZ29yeScsIGV2ZW50LnRhcmdldC5kYXRhc2V0LnRyZW5kKVxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn1cclxuXHJcbi8vICoqKiBTTElERVIgT0YgQ0xJRU5UUyBMT0dPIEZPUiBNT0JJTEUgVkVSU0lPTiAqKiogLy9cclxubGV0IG1lZGlhU2xpZGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5mdWxsX21lZGlhXCIpLFxyXG4gICAgYWN0aXZlTWVkaWEgPSAwXHJcblxyXG5tZWRpYVNsaWRlc1swXS5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlX21lZGlhXCIpXHJcblxyXG5tZWRpYVNsaWRlcy5mb3JFYWNoKChicmFuZCkgPT4ge1xyXG4gICAgYnJhbmQub25jbGljayA9IGNoYW5nZUJyYW5kXHJcbn0pXHJcblxyXG5zZXRJbnRlcnZhbChjaGFuZ2VCcmFuZCwgMjUwMClcclxuXHJcbmZ1bmN0aW9uIGNoYW5nZUJyYW5kKGV2ZW50KSB7XHJcbiAgICBldmVudCA/IGV2ZW50LnByZXZlbnREZWZhdWx0KCkgOiBudWxsXHJcbiAgICBtZWRpYVNsaWRlc1thY3RpdmVNZWRpYV0uY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZV9tZWRpYVwiKVxyXG4gICAgaWYgKGFjdGl2ZU1lZGlhICsgMSA9PSBtZWRpYVNsaWRlcy5sZW5ndGgpIHtcclxuICAgICAgICBhY3RpdmVNZWRpYSA9IDBcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYWN0aXZlTWVkaWErK1xyXG4gICAgfVxyXG4gICAgbWVkaWFTbGlkZXNbYWN0aXZlTWVkaWFdLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVfbWVkaWFcIilcclxufVxyXG5cclxuLy8gKioqIFRFWFQgU0xJREVSICoqKiAvL1xyXG5sZXQgc2xpZGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5xdW90ZV9zbGlkZXNcIiksXHJcbiAgICBxdW90ZUNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucXVvdGVfY29udGFpbmVyXCIpLFxyXG4gICAgZG90c0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksXHJcbiAgICBkb3RzXHJcblxyXG5zbGlkZXNbMF0uY2xhc3NMaXN0LmFkZChcImFjdGl2ZV9xdW90ZVwiKVxyXG5kb3RzQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJkb3RzX2NvbnRhaW5lclwiKVxyXG5xdW90ZUNvbnRhaW5lci5hcHBlbmRDaGlsZChkb3RzQ29udGFpbmVyKVxyXG5cclxuc2xpZGVzLmZvckVhY2goKHF1b3RlLCBpbmRleCkgPT4ge1xyXG4gICAgcXVvdGUuZGF0YXNldC5vcmRlciA9IGluZGV4XHJcbiAgICBkb3RzQ29udGFpbmVyLmlubmVySFRNTCArPSBgPHNwYW4gY2xhc3M9J2RvdHMnIGRhdGEtZG90PScke2luZGV4fScgb25jbGljaz0nY2hhbmdlU2xpZGUodGhpcyknPjwvc3Bhbj5gXHJcbn0pXHJcblxyXG5kb3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5kb3RzXCIpXHJcbmRvdHNbMF0uY2xhc3NMaXN0LmFkZChcImFjdGl2ZV9kb3RcIilcclxuXHJcbmZ1bmN0aW9uIGNoYW5nZVNsaWRlKGVsZW0pIHtcclxuICAgIGRvdHMuZm9yRWFjaCgoZG90KSA9PiB7XHJcbiAgICAgICAgZG90LmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVfZG90XCIpXHJcbiAgICB9KVxyXG4gICAgZWxlbS5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlX2RvdFwiKVxyXG4gICAgc2xpZGVzLmZvckVhY2goKHF1b3RlLCBpbmRleCkgPT4ge1xyXG4gICAgICAgIHF1b3RlLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVfcXVvdGVcIilcclxuICAgICAgICBpZiAoZWxlbS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWRvdFwiKSA9PSBpbmRleCkge1xyXG4gICAgICAgICAgICBxdW90ZS5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlX3F1b3RlXCIpXHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxufVxyXG5cclxuLy8gKioqIEdFVGBOYFNFVCBGT1JNIERBVEEgKioqIC8vXHJcbmxldCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNqc0NvbnRhY3RGb3JtXCIpLFxyXG4gICAgZmllbGROYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNmb3JtTmFtZVwiKSxcclxuICAgIGZpZWxkRW1haWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Zvcm1FbWFpbFwiKSxcclxuICAgIGZpZWxkUGhvbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Zvcm1QaG9uZVwiKSxcclxuICAgIGZpZWxkQ29tcGFueSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZm9ybUNvbXBhbnlcIilcclxuXHJcbmZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgICBjb25zdCB1c2VyRGF0YSA9IHtcclxuICAgICAgICBuYW1lOiBmaWVsZE5hbWUudmFsdWUsXHJcbiAgICAgICAgZW1haWw6IGZpZWxkRW1haWwudmFsdWUsXHJcbiAgICAgICAgcGhvbmU6IGZpZWxkUGhvbmUudmFsdWUsXHJcbiAgICAgICAgY29tcGFueTogZmllbGRDb21wYW55LnZhbHVlXHJcbiAgICB9XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcicsIEpTT04uc3RyaW5naWZ5KHVzZXJEYXRhKSlcclxufSlcclxuXHJcbmxldCBsYXN0VXNlckRhdGEgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyJykpXHJcbmlmIChsYXN0VXNlckRhdGEpIHtcclxuICAgIGZpZWxkTmFtZS52YWx1ZSA9IGxhc3RVc2VyRGF0YS5uYW1lXHJcbiAgICBmaWVsZEVtYWlsLnZhbHVlID0gbGFzdFVzZXJEYXRhLmVtYWlsXHJcbiAgICBmaWVsZFBob25lLnZhbHVlID0gbGFzdFVzZXJEYXRhLnBob25lXHJcbiAgICBmaWVsZENvbXBhbnkudmFsdWUgPSBsYXN0VXNlckRhdGEuY29tcGFueVxyXG59XHJcblxyXG4vLyAqKiogVkFMSURBVElPTiBPRiBGT1JNIFVTRVIgUEhPTkUgTlVNQkVSICoqKiAvL1xyXG5sZXQgcGhvbmVQYXR0ZXJuID0gKC9eWytdP1tcXHN8MC05XSpbKF0/WzAtOV17MSw0fVspXT9bLVxcc3wwLTldKiQvKSxcclxuICAgIHdyb25nTnVtYmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIilcclxud3JvbmdOdW1iZXIuY2xhc3NOYW1lID0gXCJlcnJvckZvcm1cIlxyXG5maWVsZFBob25lLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBwaG9uZVZhbGlkYXRlKVxyXG5maWVsZFBob25lLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgKGV2ZW50KSA9PiB7XHJcbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lcnJvckZvcm1cIikpIHtcclxuICAgICAgICBmb3JtLnJlbW92ZUNoaWxkKHdyb25nTnVtYmVyKVxyXG4gICAgICAgIGZpZWxkUGhvbmUuc3R5bGUuYm9yZGVyQ29sb3IgPSBcIiM1NTVcIlxyXG5cclxuICAgIH1cclxufSlcclxuXHJcbmZ1bmN0aW9uIHBob25lVmFsaWRhdGUoZXZlbnQpIHtcclxuICAgIGxldCBwaG9uZU51bWIgPSBmaWVsZFBob25lLnZhbHVlXHJcbiAgICBpZiAoIXBob25lUGF0dGVybi50ZXN0KHBob25lTnVtYikpIHtcclxuICAgICAgICBmaWVsZFBob25lLnN0eWxlLmJvcmRlckNvbG9yID0gXCIjQTQxRDAwXCJcclxuICAgICAgICBmb3JtLmFwcGVuZENoaWxkKHdyb25nTnVtYmVyKVxyXG4gICAgICAgIGZvcm0uc3R5bGUucG9zaXRpb24gPSBcInJlbGF0aXZlXCJcclxuICAgICAgICB3cm9uZ051bWJlci5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIlxyXG4gICAgICAgIHdyb25nTnVtYmVyLnN0eWxlLndpZHRoID0gXCIyMDBweFwiXHJcbiAgICAgICAgd3JvbmdOdW1iZXIuc3R5bGUuaGVpZ2h0ID0gXCIzMHB4XCJcclxuICAgICAgICB3cm9uZ051bWJlci5zdHlsZS50b3AgPSBcIjMwJVwiXHJcbiAgICAgICAgd3JvbmdOdW1iZXIuc3R5bGUubGVmdCA9IFwiMCVcIlxyXG4gICAgICAgIHdyb25nTnVtYmVyLnN0eWxlLmp1c3RpZnlDb250ZW50ID0gXCJjZW50ZXJcIlxyXG4gICAgICAgIHdyb25nTnVtYmVyLnN0eWxlLmFsaWduSXRlbXMgPSBcImNlbnRlclwiXHJcbiAgICAgICAgd3JvbmdOdW1iZXIuc3R5bGUuY29sb3IgPSBcIiNBNDFEMDBcIlxyXG4gICAgICAgIHdyb25nTnVtYmVyLnN0eWxlLmZvbnRTaXplID0gXCIxMnB4XCJcclxuICAgICAgICB3cm9uZ051bWJlci5zdHlsZS5mb250V2VpZ2h0ID0gXCI0MDBcIlxyXG4gICAgICAgIHdyb25nTnVtYmVyLmlubmVySFRNTCA9IFwiSW52YWxpZCBudW1iZXIgZm9ybWF0XCJcclxuICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgIH1cclxufVxyXG5cclxuLy8gKioqIFZJU0lUUyBDT1VOVEVSICoqKiAvL1xyXG5pZiAobG9jYWxTdG9yYWdlLnZpc2l0cyA9PT0gdW5kZWZpbmVkIHx8IGlzTmFOKGxvY2FsU3RvcmFnZS52aXNpdHMpKSB7XHJcbiAgICBsb2NhbFN0b3JhZ2UudmlzaXRzID0gMFxyXG59XHJcbmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwidmlzaXRzXCIsICsrbG9jYWxTdG9yYWdlLnZpc2l0cylcclxuXHJcbi8vICoqKiBMQVNUIFZJU0lUIERBVEUgKioqIC8vXHJcbmxldCBoZWFkZXJCbG9jayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIud2VsY29tZVwiKSxcclxuICAgIGJsb2NrV2l0aEFsZXJ0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIilcclxuXHJcbndpbmRvdy5vbmJlZm9yZXVubG9hZCA9ICgpID0+IHtcclxuICAgIGxldCBkYXRlID0gbmV3IERhdGUoKS50b0RhdGVTdHJpbmcoKVxyXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2xhc3RWaXNpdCcsIGRhdGUpXHJcbn1cclxuaWYgKGxvY2FsU3RvcmFnZS5sYXN0VmlzaXQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgbGV0IGxhc3REYXRlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xhc3RWaXNpdCcpXHJcbiAgICBpZiAoKERhdGUubm93KCkpIC0gKG5ldyBEYXRlKGxhc3REYXRlKS5nZXRUaW1lKCkpID4gODY0MDAwMDApIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhEYXRlLm5vdygpKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKG5ldyBEYXRlKGxhc3REYXRlKS5nZXRUaW1lKCkpLy/RgdGW0Lwg0L3Rg9C70ZbQslxyXG4gICAgICAgIGNvbnNvbGUubG9nKChEYXRlLm5vdygpKSAtIChuZXcgRGF0ZShsYXN0RGF0ZSkuZ2V0VGltZSgpKSkvL9GB0ZbQvCDQvdGD0LvRltCyXHJcbiAgICAgICAgaGVhZGVyQmxvY2suc3R5bGUucG9zaXRpb24gPSBcInJlbGF0aXZlXCJcclxuICAgICAgICBoZWFkZXJCbG9jay5hcHBlbmRDaGlsZChibG9ja1dpdGhBbGVydClcclxuICAgICAgICBibG9ja1dpdGhBbGVydC5pbm5lckhUTUwgPSBgWW91ciBsYXN0IHZpc2l0IHdhcyBvbiAke2xhc3REYXRlfWBcclxuICAgICAgICBibG9ja1dpdGhBbGVydC5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIlxyXG4gICAgICAgIGJsb2NrV2l0aEFsZXJ0LnN0eWxlLmNvbG9yID0gXCIjZGVjNGE5XCJcclxuICAgICAgICBibG9ja1dpdGhBbGVydC5zdHlsZS50b3AgPSBcIjAlXCJcclxuICAgICAgICBibG9ja1dpdGhBbGVydC5zdHlsZS5sZWZ0ID0gXCIxMCVcIlxyXG4gICAgICAgIGJsb2NrV2l0aEFsZXJ0LnN0eWxlLnJpZ2h0ID0gXCIxMCVcIlxyXG4gICAgfVxyXG59IGVsc2Uge1xyXG4gICAgaGVhZGVyQmxvY2suc3R5bGUucG9zaXRpb24gPSBcInJlbGF0aXZlXCJcclxuICAgIGhlYWRlckJsb2NrLmFwcGVuZENoaWxkKGJsb2NrV2l0aEFsZXJ0KVxyXG4gICAgYmxvY2tXaXRoQWxlcnQuaW5uZXJIVE1MID0gYEl0XFxgcyB5b3VyIGZpcnN0IHRpbWUgb24gdGhpcyBzaXRlLiBXZWxjb21lIWBcclxuICAgIGJsb2NrV2l0aEFsZXJ0LnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiXHJcbiAgICBibG9ja1dpdGhBbGVydC5zdHlsZS50b3AgPSBcIjAlXCJcclxuICAgIGJsb2NrV2l0aEFsZXJ0LnN0eWxlLmxlZnQgPSBcIjEwJVwiXHJcbiAgICBibG9ja1dpdGhBbGVydC5zdHlsZS5yaWdodCA9IFwiMTAlXCJcclxufVxyXG5cclxuc2V0VGltZW91dChmdW5jdGlvbiByZW1vdmVMYXN0VmlzaXQoKSB7XHJcbiAgICBibG9ja1dpdGhBbGVydC5zdHlsZS5vcGFjaXR5ID0gXCIwXCJcclxuICAgIGJsb2NrV2l0aEFsZXJ0LnN0eWxlLnRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWCgtMzAlKVwiXHJcbiAgICBibG9ja1dpdGhBbGVydC5zdHlsZS50cmFuc2l0aW9uID0gXCIyc1wiXHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICBoZWFkZXJCbG9jay5yZW1vdmVDaGlsZChibG9ja1dpdGhBbGVydClcclxuICAgIH0sIDIwMDApXHJcbn0sIDMwMDApXHJcblxyXG4vLyAqKiogSElERSBERVRBSUxTIFNVTU1BUlksIFdIRU4gSVQgT1BFTiAqKiogLy9cclxubGV0IGJsb2dTdW1tYXJpZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwic3VtbWFyeVwiKVxyXG5cclxuYmxvZ1N1bW1hcmllcy5mb3JFYWNoKChzdW1tYXJ5KSA9PiB7XHJcbiAgICBzdW1tYXJ5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGlkZVN1bW1hcmllcylcclxufSlcclxuXHJcbmZ1bmN0aW9uIGhpZGVTdW1tYXJpZXMoZXZlbnQpIHtcclxuICAgIGV2ZW50LnRhcmdldC5jbGFzc0xpc3QudG9nZ2xlKFwiaW52aXNpYmxlXCIpXHJcbn1cclxuXHJcbi8vICoqKiBQT1BVUCAqKiovL1xyXG5sZXQgcG9wdXBMaW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9saW5rXCIpLFxyXG4gICAgcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX2JvZHlcIiksXHJcbiAgICBwb3B1cENsb3NlSWNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfY2xvc2VcIiksXHJcbiAgICBoZWFkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiaGVhZGVyXCIpLFxyXG4gICAgcG9wdXBDb3ZlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcclxuXHJcbnBvcHVwTGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcclxuICAgIGJvZHlMb2NrKClcclxuICAgIHBvcHVwT3BlbigpXHJcbn0pXHJcblxyXG5wb3B1cENsb3NlSWNvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcclxuXHJcbiAgICBwb3B1cENsb3NlKClcclxufSlcclxuXHJcbnBvcHVwQ292ZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICBpZiAoZXZlbnQudGFyZ2V0ICE9PSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX2NvbnRlbnRcIikpIHtcclxuICAgICAgICBwb3B1cENsb3NlKClcclxuICAgIH1cclxufSlcclxuXHJcbmZ1bmN0aW9uIHBvcHVwT3BlbigpIHtcclxuICAgIHBvcHVwQ292ZXIuc3R5bGUucG9zaXRpb24gPSBcImZpeGVkXCJcclxuICAgIHBvcHVwQ292ZXIuc3R5bGUud2lkdGggPSBcIjEwMHZ3XCJcclxuICAgIHBvcHVwQ292ZXIuc3R5bGUuaGVpZ2h0ID0gXCIxMDB2aFwiXHJcbiAgICBwb3B1cENvdmVyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicmdiYSgwLCAwLCAwLCAuOClcIlxyXG4gICAgcG9wdXBDb3Zlci5zdHlsZS50b3AgPSBcIjBcIlxyXG4gICAgcG9wdXBDb3Zlci5zdHlsZS5sZWZ0ID0gXCIwXCJcclxuICAgIHBvcHVwQ292ZXIuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiXHJcbiAgICBib2R5LmFwcGVuZENoaWxkKHBvcHVwQ292ZXIpXHJcbiAgICBwb3B1cC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfb3BlblwiKVxyXG59XHJcblxyXG5mdW5jdGlvbiBwb3B1cENsb3NlKCkge1xyXG4gICAgcG9wdXAuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX29wZW5cIilcclxuICAgIGJvZHkucmVtb3ZlQ2hpbGQocG9wdXBDb3ZlcilcclxuICAgIGJvZHlVbmxvY2soKVxyXG59XHJcblxyXG5mdW5jdGlvbiBib2R5TG9jaygpIHtcclxuICAgIGhlYWRlci5zdHlsZS5wYWRkaW5nUmlnaHQgPSB3aW5kb3cuaW5uZXJXaWR0aCAtIGJvZHkub2Zmc2V0V2lkdGggKyBcInB4XCJcclxuICAgIGJvZHkuY2xhc3NMaXN0LmFkZChcImxvY2tcIilcclxufVxyXG5cclxuZnVuY3Rpb24gYm9keVVubG9jaygpIHtcclxuICAgIGhlYWRlci5zdHlsZS5wYWRkaW5nUmlnaHQgPSBcIjBweFwiXHJcbiAgICBib2R5LmNsYXNzTGlzdC5yZW1vdmUoXCJsb2NrXCIpXHJcbn1cclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcclxuICAgIGlmIChldmVudC53aGljaCA9PT0gMjcpIHtcclxuICAgICAgICBsZXQgcG9wdXBBY3RpdmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX29wZW5cIilcclxuICAgICAgICBwb3B1cENsb3NlKHBvcHVwQWN0aXZlKVxyXG4gICAgfVxyXG59KVxyXG5cclxuLy8gKioqIERSQUcgQU5EIERST1AgRk9SIFBPUFVQICoqKiAvL1xyXG5wb3B1cC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBkcmFnKVxyXG5cclxuZnVuY3Rpb24gZHJhZyhldmVudCkge1xyXG4gICAgbGV0IHNoaWZ0WCA9IGV2ZW50LmNsaWVudFggLSBwb3B1cC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0LFxyXG4gICAgICAgIHNoaWZ0WSA9IGV2ZW50LmNsaWVudFkgLSBwb3B1cC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3BcclxuICAgIHBvcHVwLnN0eWxlLnpJbmRleCA9IFwiMTAwMFwiXHJcbiAgICBwb3B1cC5zdHlsZS50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZSgwLDApXCJcclxuXHJcblxyXG4gICAgbW92ZVBvcHVwKGV2ZW50LnBhZ2VYLCBldmVudC5wYWdlWSlcclxuXHJcbiAgICBmdW5jdGlvbiBtb3ZlUG9wdXAocGFnZVgsIHBhZ2VZKSB7XHJcbiAgICAgICAgcG9wdXAuc3R5bGUubGVmdCA9IHBhZ2VYIC0gc2hpZnRYICsgXCJweFwiXHJcbiAgICAgICAgcG9wdXAuc3R5bGUudG9wID0gcGFnZVkgLSBzaGlmdFkgKyBcInB4XCJcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBvbk1vdXNlTW92ZShldmVudCkge1xyXG4gICAgICAgIG1vdmVQb3B1cChldmVudC5wYWdlWCwgZXZlbnQucGFnZVkpXHJcbiAgICB9XHJcblxyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgb25Nb3VzZU1vdmUpXHJcbiAgICBwb3B1cC5vbm1vdXNldXAgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgb25Nb3VzZU1vdmUpXHJcbiAgICAgICAgcG9wdXAub25tb3VzZXVwID0gbnVsbFxyXG4gICAgfVxyXG59XHJcbiJdfQ==
