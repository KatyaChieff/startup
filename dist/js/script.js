let BurgerIcon=document.querySelector(".screen_icon"),menu=document.querySelector(".header_menu"),body=document.querySelector("body"),logo=document.querySelector(".header_logo"),menuItems=document.querySelectorAll(".top_nav li");function toggleNav(){logo.classList.toggle("invisible"),BurgerIcon.classList.toggle("responsive"),menu.classList.toggle("responsive"),body.classList.toggle("lock")}BurgerIcon.onclick=toggleNav,menuItems.forEach(e=>{e.addEventListener("click",()=>{logo.classList.remove("invisible"),BurgerIcon.classList.toggle("responsive"),menu.classList.toggle("responsive")})});let arrowTop=document.createElement("span");function ieTop(){let e=window.pageYOffset;window.scrollTo(0,e-50),setTimeout((function(){e<=0?window.scrollTo(0,0):ieTop()}),10)}arrowTop.id="scrollTop",window.onscroll=function(){window.pageYOffset>window.innerHeight?arrowTop.style.opacity="1":arrowTop.style.opacity="0"},arrowTop.onclick=function(){navigator.userAgent.indexOf("Trident")>-1?ieTop():window.scrollTo(0,0)},document.body.appendChild(arrowTop);let prev=document.querySelector("#prev_btn"),next=document.querySelector("#next_btn"),sliderItem=document.querySelectorAll(".slider_item"),slideWidth=document.querySelector(".slider_item").getBoundingClientRect().width,slider=document.querySelector(".slider"),currentPosition=0;function scrollPic(e){e.preventDefault();let t=slider.lastElementChild,o=slider.firstElementChild;"prev_btn"===e.target.id?(currentPosition-=slideWidth,currentPosition<=0&&(t.remove(),slider.insertBefore(t,o),currentPosition+=slideWidth)):"next_btn"===e.target.id&&(currentPosition+=slideWidth,currentPosition>=slider.scrollWidth-slider.clientWidth&&(o.remove(),slider.appendChild(o),currentPosition-=slideWidth)),slider.scroll(currentPosition,0)}prev.onclick=scrollPic,next.onclick=scrollPic;let jobsPic=document.querySelectorAll(".jobs_pic"),categories=document.querySelectorAll(".latest_works_list");function jobsPop(e){jobsPic.forEach(t=>{let o=document.querySelector(".selected");o&&o.classList.remove("selected"),e.target.classList.add("selected"),t.classList.remove("invisible"),t.dataset.category.match(e.target.dataset.trend)||"All"===e.target.dataset.trend||(t.classList.add("invisible"),localStorage.setItem("last category",e.target.dataset.trend))})}categories.forEach(e=>{e.addEventListener("click",jobsPop)});let mediaSlides=document.querySelectorAll(".full_media"),activeMedia=0;function changeBrand(e){e&&e.preventDefault(),mediaSlides[activeMedia].classList.remove("active_media"),activeMedia+1==mediaSlides.length?activeMedia=0:activeMedia++,mediaSlides[activeMedia].classList.add("active_media")}mediaSlides[0].classList.add("active_media"),mediaSlides.forEach(e=>{e.onclick=changeBrand}),setInterval(changeBrand,2500);let dots,slides=document.querySelectorAll(".quote_slides"),quoteContainer=document.querySelector(".quote_container"),dotsContainer=document.createElement("div");function changeSlide(e){dots.forEach(e=>{e.classList.remove("active_dot")}),e.classList.add("active_dot"),slides.forEach((t,o)=>{t.classList.remove("active_quote"),e.getAttribute("data-dot")==o&&t.classList.add("active_quote")})}slides[0].classList.add("active_quote"),dotsContainer.classList.add("dots_container"),quoteContainer.appendChild(dotsContainer),slides.forEach((e,t)=>{e.dataset.order=t,dotsContainer.innerHTML+=`<span class='dots' data-dot='${t}' onclick='changeSlide(this)'></span>`}),dots=document.querySelectorAll(".dots"),dots[0].classList.add("active_dot");let form=document.querySelector("#jsContactForm"),fieldName=document.querySelector("#formName"),fieldEmail=document.querySelector("#formEmail"),fieldPhone=document.querySelector("#formPhone"),fieldCompany=document.querySelector("#formCompany");form.addEventListener("submit",(function(e){e.preventDefault();const t={name:fieldName.value,email:fieldEmail.value,phone:fieldPhone.value,company:fieldCompany.value};localStorage.setItem("user",JSON.stringify(t))}));let lastUserData=JSON.parse(localStorage.getItem("user"));lastUserData&&(fieldName.value=lastUserData.name,fieldEmail.value=lastUserData.email,fieldPhone.value=lastUserData.phone,fieldCompany.value=lastUserData.company);let phonePattern=/^[+]?[\s|0-9]*[(]?[0-9]{1,4}[)]?[-\s|0-9]*$/,wrongNumber=document.createElement("p");function phoneValidate(e){let t=fieldPhone.value;if(!phonePattern.test(t))return fieldPhone.style.borderColor="#A41D00",form.appendChild(wrongNumber),form.style.position="relative",wrongNumber.style.position="absolute",wrongNumber.style.width="200px",wrongNumber.style.height="30px",wrongNumber.style.top="30%",wrongNumber.style.left="0%",wrongNumber.style.justifyContent="center",wrongNumber.style.alignItems="center",wrongNumber.style.color="#A41D00",wrongNumber.style.fontSize="12px",wrongNumber.style.fontWeight="400",wrongNumber.innerHTML="Invalid number format",!1}wrongNumber.className="errorForm",fieldPhone.addEventListener("blur",phoneValidate),fieldPhone.addEventListener("focus",e=>{document.querySelector(".errorForm")&&(form.removeChild(wrongNumber),fieldPhone.style.borderColor="#555")}),(void 0===localStorage.visits||isNaN(localStorage.visits))&&(localStorage.visits=0),localStorage.setItem("visits",++localStorage.visits);let headerBlock=document.querySelector(".welcome"),blockWithAlert=document.createElement("p");if(blockWithAlert.style.position="absolute",blockWithAlert.style.color="#dec4a9",blockWithAlert.style.top="0%",blockWithAlert.style.left="10%",blockWithAlert.style.right="10%",blockWithAlert.classList.add("withalert"),window.onbeforeunload=()=>{let e=(new Date).toDateString();localStorage.setItem("lastVisit",e)},void 0!==localStorage.lastVisit){let e=localStorage.getItem("lastVisit");Date.now()-new Date(e).getTime()>864e5&&(console.log(Date.now()),console.log(new Date(e).getTime()),console.log(Date.now()-new Date(e).getTime()),headerBlock.style.position="relative",headerBlock.appendChild(blockWithAlert),blockWithAlert.innerHTML="Your last visit was on "+e)}else headerBlock.style.position="relative",headerBlock.appendChild(blockWithAlert),blockWithAlert.innerHTML="It`s your first time on this site. Welcome!";setTimeout((function(){blockWithAlert.style.opacity="0",blockWithAlert.style.transform="translateX(-30%)",blockWithAlert.style.transition="2s",setTimeout(()=>{document.querySelector(".withalert")&&headerBlock.removeChild(blockWithAlert)},2e3)}),3e3);let blogSummaries=document.querySelectorAll("summary");function hideSummaries(e){e.target.classList.toggle("invisible")}blogSummaries.forEach(e=>{e.addEventListener("click",hideSummaries)});let popupLink=document.querySelector(".popup_link"),popup=document.querySelector(".popup_body"),popupCloseIcon=document.querySelector(".popup_close"),header=document.querySelector("header"),popupCover=document.createElement("div");function popupOpen(){popupCover.style.position="fixed",popupCover.style.width="100vw",popupCover.style.height="100vh",popupCover.style.backgroundColor="rgba(0, 0, 0, .8)",popupCover.style.top="0",popupCover.style.left="0",popupCover.style.overflow="hidden",body.appendChild(popupCover),popup.classList.add("popup_open")}function popupClose(){popup.classList.remove("popup_open"),body.removeChild(popupCover),bodyUnlock()}function bodyLock(){header.style.paddingRight=window.innerWidth-body.offsetWidth+"px",body.classList.add("lock")}function bodyUnlock(){header.style.paddingRight="0px",body.classList.remove("lock")}function drag(e){let t=e.clientX-popup.getBoundingClientRect().left,o=e.clientY-popup.getBoundingClientRect().top;function r(e,r){popup.style.left=e-t+"px",popup.style.top=r-o+"px"}function l(e){r(e.pageX,e.pageY)}popup.style.zIndex="1000",popup.style.transform="translate(0,0)",r(e.pageX,e.pageY),document.addEventListener("mousemove",l),popup.onmouseup=function(){document.removeEventListener("mousemove",l),popup.onmouseup=null}}popupLink.addEventListener("click",()=>{event.preventDefault(),bodyLock(),popupOpen()}),popupCloseIcon.addEventListener("click",()=>{event.preventDefault(),popupClose()}),popupCover.addEventListener("click",()=>{event.target!==document.querySelector(".popup_content")&&popupClose()}),document.addEventListener("keydown",e=>{if(27===e.which){popupClose(document.querySelector(".popup_open"))}}),popup.addEventListener("mousedown",drag);let dragObject,dropPoint,popUpButton=document.querySelector("#js_popup_button"),wrapPopUp=document.querySelector(".wrapper"),figures=document.querySelectorAll(".square"),levels=document.querySelectorAll(".level"),welcome=document.querySelector(".welcome h1"),dropPoints=[],keys=[[5,3,8],[7],[2,4],[6,1]];function smallCheck(){event.preventDefault();let e=new XMLHttpRequest,t=document.querySelector("#jsNamePopup"),o=document.querySelector("#jsPhonePopup"),r=`login=${t.value}&pass=${o.value}`;e.open("POST","php/login.php",!0),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.send(r),e.onreadystatechange=function(){4===e.readyState&&(200!==e.status?console.log(e.status+""+e.statusText):e.responseText?(popupClose(),wrapPopUp.classList.add("flex"),wrapPopUp.style.display="flex",wrapPopUp.style.backgroundColor="white",wrapPopUp.style.position="absolute",wrapPopUp.style.top="50%",wrapPopUp.style.left="50%",wrapPopUp.style.zIndex="1500",wrapPopUp.style.transform="translate(-50%, -50%)",popupCover.style.position="fixed",popupCover.style.width="100vw",popupCover.style.height="100vh",popupCover.style.backgroundColor="rgba(0, 0, 0, .8)",popupCover.style.top="0",popupCover.style.left="0",popupCover.style.overflow="hidden",body.appendChild(popupCover)):alert("go away!"))}}function startDrag(){dragObject=this,setTimeout(()=>{dragObject.classList.add("hide"),dropPoint=dragObject.previousElementSibling,dropPoint.classList.add("hide")},0)}function checkBandit(){let e=levels[0].querySelectorAll(".square"),t=levels[1].querySelectorAll(".square"),o=levels[2].querySelectorAll(".square"),r=levels[3].querySelectorAll(".square"),l=0;e.forEach((e,t)=>{if(e.getAttribute("data-number")!=keys[0][t])return console.log("wrong"),!1;l++}),t.forEach((e,t)=>{if(e.getAttribute("data-number")!=keys[1][t])return console.log("wrong1"),!1;l++}),o.forEach((e,t)=>{if(e.getAttribute("data-number")!=keys[2][t])return console.log("wrong2"),!1;l++}),r.forEach((e,t)=>{if(e.getAttribute("data-number")!=keys[3][t])return console.log("wrong3"),!1;l++}),l===figures.length&&(welcome.innerText="WELCOME KATYA!",wrapPopUp.classList.remove("flex"),wrapPopUp.style.display="none",body.removeChild(popupCover))}popUpButton.addEventListener("click",smallCheck),figures.forEach(e=>{e.style.backgroundColor=e.getAttribute("data-color"),e.style.cursor="pointer",e.insertAdjacentHTML("beforebegin","<div class='drop_point'></div>"),dropPoints.push(e.previousElementSibling),e.addEventListener("dragstart",startDrag),e.addEventListener("dragend",(function(){e.classList.remove("hide")}))}),dropPoints.forEach(e=>{e.addEventListener("dragenter",(function(){event.preventDefault(),event.target===e&&e.classList.add("drop_point_hover")})),e.addEventListener("dragleave",(function(){e.classList.remove("drop_point_hover")})),e.addEventListener("drop",(function(){e.insertAdjacentElement("beforebegin",dragObject),setTimeout(()=>{e.classList.remove("drop_point_hover")},0)}))}),levels.forEach(e=>{e.addEventListener("dragenter",(function(t){t.preventDefault(),e.classList.add("dashed")})),e.addEventListener("dragover",(function(e){e.preventDefault()})),e.addEventListener("dragleave",(function(t){e.classList.remove("dashed")})),e.addEventListener("drop",(function(t){e.classList.remove("dashed"),document.querySelector(".drop_point_hover")||e.appendChild(dragObject),dragObject.insertAdjacentElement("beforebegin",dropPoint),dropPoint.classList.remove("hide"),checkBandit()}))});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJCdXJnZXJJY29uIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibWVudSIsImJvZHkiLCJsb2dvIiwibWVudUl0ZW1zIiwicXVlcnlTZWxlY3RvckFsbCIsInRvZ2dsZU5hdiIsImNsYXNzTGlzdCIsInRvZ2dsZSIsIm9uY2xpY2siLCJmb3JFYWNoIiwiaXRlbSIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmUiLCJhcnJvd1RvcCIsImNyZWF0ZUVsZW1lbnQiLCJpZVRvcCIsInRvcCIsIndpbmRvdyIsInBhZ2VZT2Zmc2V0Iiwic2Nyb2xsVG8iLCJzZXRUaW1lb3V0IiwiaWQiLCJvbnNjcm9sbCIsImlubmVySGVpZ2h0Iiwic3R5bGUiLCJvcGFjaXR5IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiaW5kZXhPZiIsImFwcGVuZENoaWxkIiwicHJldiIsIm5leHQiLCJzbGlkZXJJdGVtIiwic2xpZGVXaWR0aCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIndpZHRoIiwic2xpZGVyIiwiY3VycmVudFBvc2l0aW9uIiwic2Nyb2xsUGljIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImxhc3RFbGVtIiwibGFzdEVsZW1lbnRDaGlsZCIsImZpcnN0RWxlbSIsImZpcnN0RWxlbWVudENoaWxkIiwidGFyZ2V0IiwiaW5zZXJ0QmVmb3JlIiwic2Nyb2xsV2lkdGgiLCJjbGllbnRXaWR0aCIsInNjcm9sbCIsImpvYnNQaWMiLCJjYXRlZ29yaWVzIiwiam9ic1BvcCIsImVsZW0iLCJzZWxlY3RlZCIsImFkZCIsImRhdGFzZXQiLCJjYXRlZ29yeSIsIm1hdGNoIiwidHJlbmQiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwibWVkaWFTbGlkZXMiLCJhY3RpdmVNZWRpYSIsImNoYW5nZUJyYW5kIiwibGVuZ3RoIiwiYnJhbmQiLCJzZXRJbnRlcnZhbCIsImRvdHMiLCJzbGlkZXMiLCJxdW90ZUNvbnRhaW5lciIsImRvdHNDb250YWluZXIiLCJjaGFuZ2VTbGlkZSIsImRvdCIsInF1b3RlIiwiaW5kZXgiLCJnZXRBdHRyaWJ1dGUiLCJvcmRlciIsImlubmVySFRNTCIsImZvcm0iLCJmaWVsZE5hbWUiLCJmaWVsZEVtYWlsIiwiZmllbGRQaG9uZSIsImZpZWxkQ29tcGFueSIsInVzZXJEYXRhIiwibmFtZSIsInZhbHVlIiwiZW1haWwiLCJwaG9uZSIsImNvbXBhbnkiLCJKU09OIiwic3RyaW5naWZ5IiwibGFzdFVzZXJEYXRhIiwicGFyc2UiLCJnZXRJdGVtIiwicGhvbmVQYXR0ZXJuIiwid3JvbmdOdW1iZXIiLCJwaG9uZVZhbGlkYXRlIiwicGhvbmVOdW1iIiwidGVzdCIsImJvcmRlckNvbG9yIiwicG9zaXRpb24iLCJoZWlnaHQiLCJsZWZ0IiwianVzdGlmeUNvbnRlbnQiLCJhbGlnbkl0ZW1zIiwiY29sb3IiLCJmb250U2l6ZSIsImZvbnRXZWlnaHQiLCJjbGFzc05hbWUiLCJyZW1vdmVDaGlsZCIsInVuZGVmaW5lZCIsInZpc2l0cyIsImlzTmFOIiwiaGVhZGVyQmxvY2siLCJibG9ja1dpdGhBbGVydCIsInJpZ2h0Iiwib25iZWZvcmV1bmxvYWQiLCJkYXRlIiwiRGF0ZSIsInRvRGF0ZVN0cmluZyIsImxhc3RWaXNpdCIsImxhc3REYXRlIiwibm93IiwiZ2V0VGltZSIsImNvbnNvbGUiLCJsb2ciLCJ0cmFuc2Zvcm0iLCJ0cmFuc2l0aW9uIiwiYmxvZ1N1bW1hcmllcyIsImhpZGVTdW1tYXJpZXMiLCJzdW1tYXJ5IiwicG9wdXBMaW5rIiwicG9wdXAiLCJwb3B1cENsb3NlSWNvbiIsImhlYWRlciIsInBvcHVwQ292ZXIiLCJwb3B1cE9wZW4iLCJiYWNrZ3JvdW5kQ29sb3IiLCJvdmVyZmxvdyIsInBvcHVwQ2xvc2UiLCJib2R5VW5sb2NrIiwiYm9keUxvY2siLCJwYWRkaW5nUmlnaHQiLCJpbm5lcldpZHRoIiwib2Zmc2V0V2lkdGgiLCJkcmFnIiwic2hpZnRYIiwiY2xpZW50WCIsInNoaWZ0WSIsImNsaWVudFkiLCJtb3ZlUG9wdXAiLCJwYWdlWCIsInBhZ2VZIiwib25Nb3VzZU1vdmUiLCJ6SW5kZXgiLCJvbm1vdXNldXAiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwid2hpY2giLCJkcmFnT2JqZWN0IiwiZHJvcFBvaW50IiwicG9wVXBCdXR0b24iLCJ3cmFwUG9wVXAiLCJmaWd1cmVzIiwibGV2ZWxzIiwid2VsY29tZSIsImRyb3BQb2ludHMiLCJrZXlzIiwic21hbGxDaGVjayIsInhociIsIlhNTEh0dHBSZXF1ZXN0IiwiaW5wdXRMb2dpbiIsImlucHV0UGFzcyIsInBhcmFtcyIsIm9wZW4iLCJzZXRSZXF1ZXN0SGVhZGVyIiwic2VuZCIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlYWR5U3RhdGUiLCJzdGF0dXMiLCJzdGF0dXNUZXh0IiwicmVzcG9uc2VUZXh0IiwiZGlzcGxheSIsImFsZXJ0Iiwic3RhcnREcmFnIiwidGhpcyIsInByZXZpb3VzRWxlbWVudFNpYmxpbmciLCJjaGVja0JhbmRpdCIsImxldmVsMCIsImxldmVsMSIsImxldmVsMiIsImxldmVsMyIsImNvcnJlY3QiLCJlbCIsImlubmVyVGV4dCIsImZpZ3VyZSIsImN1cnNvciIsImluc2VydEFkamFjZW50SFRNTCIsInB1c2giLCJwb2ludCIsImluc2VydEFkamFjZW50RWxlbWVudCIsImxldmVsIl0sIm1hcHBpbmdzIjoiQUFDQSxJQUFJQSxXQUFhQyxTQUFTQyxjQUFjLGdCQUNwQ0MsS0FBT0YsU0FBU0MsY0FBYyxnQkFDOUJFLEtBQU9ILFNBQVNDLGNBQWMsUUFDOUJHLEtBQU9KLFNBQVNDLGNBQWMsZ0JBQzlCSSxVQUFZTCxTQUFTTSxpQkFBaUIsZUFJMUMsU0FBU0MsWUFDTEgsS0FBS0ksVUFBVUMsT0FBTyxhQUN0QlYsV0FBV1MsVUFBVUMsT0FBTyxjQUM1QlAsS0FBS00sVUFBVUMsT0FBTyxjQUN0Qk4sS0FBS0ssVUFBVUMsT0FBTyxRQU4xQlYsV0FBV1csUUFBVUgsVUFTckJGLFVBQVVNLFFBQVNDLElBQ2ZBLEVBQUtDLGlCQUFpQixRQUFT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QkFBaUIsYUFBYSxTQUFVNEIsR0FDMUNBLEVBQU1DLGlCQUNOaUssRUFBTW5NLFVBQVVpRCxJQUFJLGFBR3hCa0osRUFBTTlMLGlCQUFpQixZQUFZLFNBQVU0QixHQUN6Q0EsRUFBTUMsb0JBRVZpSyxFQUFNOUwsaUJBQWlCLGFBQWEsU0FBVTRCLEdBQzFDa0ssRUFBTW5NLFVBQVVNLE9BQU8sYUFFM0I2TCxFQUFNOUwsaUJBQWlCLFFBQVEsU0FBVTRCLEdBQ3JDa0ssRUFBTW5NLFVBQVVNLE9BQU8sVUFDbEJkLFNBQVNDLGNBQWMsc0JBQ3hCME0sRUFBTTVLLFlBQVlrSSxZQUV0QkEsV0FBV3lDLHNCQUFzQixjQUFleEMsV0FDaERBLFVBQVUxSixVQUFVTSxPQUFPLFFBQzNCK0siLCJmaWxlIjoic2NyaXB0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gKioqIEJVUkdFUiBNRU5VICoqKiAvL1xyXG5sZXQgQnVyZ2VySWNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2NyZWVuX2ljb25cIiksXHJcbiAgICBtZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZWFkZXJfbWVudVwiKSxcclxuICAgIGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYm9keVwiKSxcclxuICAgIGxvZ28gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhlYWRlcl9sb2dvXCIpLFxyXG4gICAgbWVudUl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi50b3BfbmF2IGxpXCIpXHJcblxyXG5CdXJnZXJJY29uLm9uY2xpY2sgPSB0b2dnbGVOYXZcclxuXHJcbmZ1bmN0aW9uIHRvZ2dsZU5hdigpIHtcclxuICAgIGxvZ28uY2xhc3NMaXN0LnRvZ2dsZShcImludmlzaWJsZVwiKVxyXG4gICAgQnVyZ2VySWNvbi5jbGFzc0xpc3QudG9nZ2xlKFwicmVzcG9uc2l2ZVwiKVxyXG4gICAgbWVudS5jbGFzc0xpc3QudG9nZ2xlKFwicmVzcG9uc2l2ZVwiKVxyXG4gICAgYm9keS5jbGFzc0xpc3QudG9nZ2xlKFwibG9ja1wiKVxyXG59XHJcblxyXG5tZW51SXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICBsb2dvLmNsYXNzTGlzdC5yZW1vdmUoXCJpbnZpc2libGVcIilcclxuICAgICAgICBCdXJnZXJJY29uLmNsYXNzTGlzdC50b2dnbGUoXCJyZXNwb25zaXZlXCIpXHJcbiAgICAgICAgbWVudS5jbGFzc0xpc3QudG9nZ2xlKFwicmVzcG9uc2l2ZVwiKVxyXG4gICAgfSlcclxufSlcclxuXHJcbi8vICoqKiBTQ1JPTEwgVE8gVE9QIEZPUiBOT1JNQUwgQlJPV1NFUlMgKioqIC8vXHJcbmxldCBhcnJvd1RvcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpXHJcblxyXG5hcnJvd1RvcC5pZCA9ICdzY3JvbGxUb3AnXHJcbndpbmRvdy5vbnNjcm9sbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGlmICh3aW5kb3cucGFnZVlPZmZzZXQgPiB3aW5kb3cuaW5uZXJIZWlnaHQpIHtcclxuICAgICAgICBhcnJvd1RvcC5zdHlsZS5vcGFjaXR5ID0gXCIxXCJcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYXJyb3dUb3Auc3R5bGUub3BhY2l0eSA9IFwiMFwiXHJcbiAgICB9XHJcbn1cclxuYXJyb3dUb3Aub25jbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJUcmlkZW50XCIpID4gLTEpIHtcclxuICAgICAgICBpZVRvcCgpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCAwKVxyXG4gICAgfVxyXG59XHJcblxyXG4vLyAqKiogU0NST0xMIFRPIFRPUCBGT1IgTE9WRUxZIElFICoqKiAvL1xyXG5mdW5jdGlvbiBpZVRvcCgpIHtcclxuICAgIGxldCB0b3AgPSB3aW5kb3cucGFnZVlPZmZzZXRcclxuICAgIHdpbmRvdy5zY3JvbGxUbygwLCB0b3AgLSA1MClcclxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0b3AgPD0gMCkge1xyXG4gICAgICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgMClcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZVRvcCgpXHJcbiAgICAgICAgfVxyXG4gICAgfSwgMTApXHJcbn1cclxuXHJcbmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYXJyb3dUb3ApXHJcblxyXG4vLyAqKiogTUFJTiBTTElERVIgV0lUSCBERVZFTE9QRVJTICoqKiAvL1xyXG5sZXQgcHJldiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJldl9idG5cIiksXHJcbiAgICBuZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNuZXh0X2J0blwiKSxcclxuICAgIHNsaWRlckl0ZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnNsaWRlcl9pdGVtXCIpLFxyXG4gICAgc2xpZGVXaWR0aCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2xpZGVyX2l0ZW1cIikuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGgsXHJcbiAgICBzbGlkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNsaWRlclwiKSxcclxuICAgIGN1cnJlbnRQb3NpdGlvbiA9IDBcclxuXHJcbnByZXYub25jbGljayA9IHNjcm9sbFBpY1xyXG5uZXh0Lm9uY2xpY2sgPSBzY3JvbGxQaWNcclxuXHJcbi8vIHNsaWRlckl0ZW0uZm9yRWFjaCAoKGl0ZW0pID0+IHtcclxuLy8gICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIG1vbmN0aW9uKVxyXG4vLyB9KVxyXG4vL1xyXG4vLyBzbGlkZXJJdGVtLmZvckVhY2ggKChpdGVtKSA9PiB7XHJcbi8vICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHNjcm9sbFBpYylcclxuLy8gfSlcclxuLy9cclxuLy8gZnVuY3Rpb24gbW9uY3Rpb24oKSB7XHJcbi8vICAgICBjb25zb2xlLmxvZyhcIm1vbmN0aW9uXCIpXHJcbi8vIH1cclxuXHJcbmZ1bmN0aW9uIHNjcm9sbFBpYyhldmVudCkge1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxyXG4gICAgbGV0IGxhc3RFbGVtID0gc2xpZGVyLmxhc3RFbGVtZW50Q2hpbGQsXHJcbiAgICAgICAgZmlyc3RFbGVtID0gc2xpZGVyLmZpcnN0RWxlbWVudENoaWxkXHJcbiAgICBpZiAoZXZlbnQudGFyZ2V0LmlkID09PSBcInByZXZfYnRuXCIpIHtcclxuICAgICAgICBjdXJyZW50UG9zaXRpb24gLT0gc2xpZGVXaWR0aFxyXG4gICAgICAgIGlmIChjdXJyZW50UG9zaXRpb24gPD0gMCkge1xyXG4gICAgICAgICAgICBsYXN0RWxlbS5yZW1vdmUoKVxyXG4gICAgICAgICAgICBzbGlkZXIuaW5zZXJ0QmVmb3JlKGxhc3RFbGVtLCBmaXJzdEVsZW0pXHJcbiAgICAgICAgICAgIGN1cnJlbnRQb3NpdGlvbiArPSBzbGlkZVdpZHRoXHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChldmVudC50YXJnZXQuaWQgPT09IFwibmV4dF9idG5cIikge1xyXG4gICAgICAgIGN1cnJlbnRQb3NpdGlvbiArPSBzbGlkZVdpZHRoXHJcbiAgICAgICAgaWYgKGN1cnJlbnRQb3NpdGlvbiA+PSAoc2xpZGVyLnNjcm9sbFdpZHRoIC0gc2xpZGVyLmNsaWVudFdpZHRoKSkge1xyXG4gICAgICAgICAgICBmaXJzdEVsZW0ucmVtb3ZlKClcclxuICAgICAgICAgICAgc2xpZGVyLmFwcGVuZENoaWxkKGZpcnN0RWxlbSlcclxuICAgICAgICAgICAgY3VycmVudFBvc2l0aW9uIC09IHNsaWRlV2lkdGhcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzbGlkZXIuc2Nyb2xsKGN1cnJlbnRQb3NpdGlvbiwgMClcclxufVxyXG5cclxuLy8gKioqIEpPQmBTIFBPUCAqKiogLy9cclxubGV0IGpvYnNQaWMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmpvYnNfcGljXCIpLFxyXG4gICAgY2F0ZWdvcmllcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubGF0ZXN0X3dvcmtzX2xpc3RcIilcclxuXHJcbmNhdGVnb3JpZXMuZm9yRWFjaCgoY2F0ZWdvcnkpID0+IHtcclxuICAgIGNhdGVnb3J5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgam9ic1BvcClcclxufSlcclxuXHJcbmZ1bmN0aW9uIGpvYnNQb3AoZXZlbnQpIHtcclxuICAgIGpvYnNQaWMuZm9yRWFjaCgoZWxlbSkgPT4ge1xyXG4gICAgICAgIGxldCBzZWxlY3RlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VsZWN0ZWRcIilcclxuICAgICAgICBpZiAoc2VsZWN0ZWQpIHNlbGVjdGVkLmNsYXNzTGlzdC5yZW1vdmUoXCJzZWxlY3RlZFwiKVxyXG4gICAgICAgIGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuYWRkKFwic2VsZWN0ZWRcIilcclxuICAgICAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoXCJpbnZpc2libGVcIilcclxuICAgICAgICBpZiAoIWVsZW0uZGF0YXNldC5jYXRlZ29yeS5tYXRjaChldmVudC50YXJnZXQuZGF0YXNldC50cmVuZCkgJiYgZXZlbnQudGFyZ2V0LmRhdGFzZXQudHJlbmQgIT09ICdBbGwnKSB7XHJcbiAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LmFkZChcImludmlzaWJsZVwiKVxyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbGFzdCBjYXRlZ29yeScsIGV2ZW50LnRhcmdldC5kYXRhc2V0LnRyZW5kKVxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn1cclxuXHJcbi8vICoqKiBTTElERVIgT0YgQ0xJRU5UUyBMT0dPIEZPUiBNT0JJTEUgVkVSU0lPTiAqKiogLy9cclxubGV0IG1lZGlhU2xpZGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5mdWxsX21lZGlhXCIpLFxyXG4gICAgYWN0aXZlTWVkaWEgPSAwXHJcblxyXG5tZWRpYVNsaWRlc1swXS5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlX21lZGlhXCIpXHJcblxyXG5tZWRpYVNsaWRlcy5mb3JFYWNoKChicmFuZCkgPT4ge1xyXG4gICAgYnJhbmQub25jbGljayA9IGNoYW5nZUJyYW5kXHJcbn0pXHJcblxyXG5zZXRJbnRlcnZhbChjaGFuZ2VCcmFuZCwgMjUwMClcclxuXHJcbmZ1bmN0aW9uIGNoYW5nZUJyYW5kKGV2ZW50KSB7XHJcbiAgICBldmVudCA/IGV2ZW50LnByZXZlbnREZWZhdWx0KCkgOiBudWxsXHJcbiAgICBtZWRpYVNsaWRlc1thY3RpdmVNZWRpYV0uY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZV9tZWRpYVwiKVxyXG4gICAgaWYgKGFjdGl2ZU1lZGlhICsgMSA9PSBtZWRpYVNsaWRlcy5sZW5ndGgpIHtcclxuICAgICAgICBhY3RpdmVNZWRpYSA9IDBcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYWN0aXZlTWVkaWErK1xyXG4gICAgfVxyXG4gICAgbWVkaWFTbGlkZXNbYWN0aXZlTWVkaWFdLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVfbWVkaWFcIilcclxufVxyXG5cclxuLy8gKioqIFRFWFQgU0xJREVSICoqKiAvL1xyXG5sZXQgc2xpZGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5xdW90ZV9zbGlkZXNcIiksXHJcbiAgICBxdW90ZUNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucXVvdGVfY29udGFpbmVyXCIpLFxyXG4gICAgZG90c0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksXHJcbiAgICBkb3RzXHJcblxyXG5zbGlkZXNbMF0uY2xhc3NMaXN0LmFkZChcImFjdGl2ZV9xdW90ZVwiKVxyXG5kb3RzQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJkb3RzX2NvbnRhaW5lclwiKVxyXG5xdW90ZUNvbnRhaW5lci5hcHBlbmRDaGlsZChkb3RzQ29udGFpbmVyKVxyXG5cclxuc2xpZGVzLmZvckVhY2goKHF1b3RlLCBpbmRleCkgPT4ge1xyXG4gICAgcXVvdGUuZGF0YXNldC5vcmRlciA9IGluZGV4XHJcbiAgICBkb3RzQ29udGFpbmVyLmlubmVySFRNTCArPSBgPHNwYW4gY2xhc3M9J2RvdHMnIGRhdGEtZG90PScke2luZGV4fScgb25jbGljaz0nY2hhbmdlU2xpZGUodGhpcyknPjwvc3Bhbj5gXHJcbn0pXHJcblxyXG5kb3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5kb3RzXCIpXHJcbmRvdHNbMF0uY2xhc3NMaXN0LmFkZChcImFjdGl2ZV9kb3RcIilcclxuXHJcbmZ1bmN0aW9uIGNoYW5nZVNsaWRlKGVsZW0pIHtcclxuICAgIGRvdHMuZm9yRWFjaCgoZG90KSA9PiB7XHJcbiAgICAgICAgZG90LmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVfZG90XCIpXHJcbiAgICB9KVxyXG4gICAgZWxlbS5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlX2RvdFwiKVxyXG4gICAgc2xpZGVzLmZvckVhY2goKHF1b3RlLCBpbmRleCkgPT4ge1xyXG4gICAgICAgIHF1b3RlLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVfcXVvdGVcIilcclxuICAgICAgICBpZiAoZWxlbS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWRvdFwiKSA9PSBpbmRleCkge1xyXG4gICAgICAgICAgICBxdW90ZS5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlX3F1b3RlXCIpXHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxufVxyXG5cclxuLy8gKioqIEdFVGBOYFNFVCBGT1JNIERBVEEgKioqIC8vXHJcbmxldCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNqc0NvbnRhY3RGb3JtXCIpLFxyXG4gICAgZmllbGROYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNmb3JtTmFtZVwiKSxcclxuICAgIGZpZWxkRW1haWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Zvcm1FbWFpbFwiKSxcclxuICAgIGZpZWxkUGhvbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Zvcm1QaG9uZVwiKSxcclxuICAgIGZpZWxkQ29tcGFueSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZm9ybUNvbXBhbnlcIilcclxuXHJcbmZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgICBjb25zdCB1c2VyRGF0YSA9IHtcclxuICAgICAgICBuYW1lOiBmaWVsZE5hbWUudmFsdWUsXHJcbiAgICAgICAgZW1haWw6IGZpZWxkRW1haWwudmFsdWUsXHJcbiAgICAgICAgcGhvbmU6IGZpZWxkUGhvbmUudmFsdWUsXHJcbiAgICAgICAgY29tcGFueTogZmllbGRDb21wYW55LnZhbHVlXHJcbiAgICB9XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcicsIEpTT04uc3RyaW5naWZ5KHVzZXJEYXRhKSlcclxufSlcclxuXHJcbmxldCBsYXN0VXNlckRhdGEgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyJykpXHJcbmlmIChsYXN0VXNlckRhdGEpIHtcclxuICAgIGZpZWxkTmFtZS52YWx1ZSA9IGxhc3RVc2VyRGF0YS5uYW1lXHJcbiAgICBmaWVsZEVtYWlsLnZhbHVlID0gbGFzdFVzZXJEYXRhLmVtYWlsXHJcbiAgICBmaWVsZFBob25lLnZhbHVlID0gbGFzdFVzZXJEYXRhLnBob25lXHJcbiAgICBmaWVsZENvbXBhbnkudmFsdWUgPSBsYXN0VXNlckRhdGEuY29tcGFueVxyXG59XHJcblxyXG4vLyAqKiogVkFMSURBVElPTiBPRiBGT1JNIFVTRVIgUEhPTkUgTlVNQkVSICoqKiAvL1xyXG5sZXQgcGhvbmVQYXR0ZXJuID0gKC9eWytdP1tcXHN8MC05XSpbKF0/WzAtOV17MSw0fVspXT9bLVxcc3wwLTldKiQvKSxcclxuICAgIHdyb25nTnVtYmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIilcclxud3JvbmdOdW1iZXIuY2xhc3NOYW1lID0gXCJlcnJvckZvcm1cIlxyXG5maWVsZFBob25lLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBwaG9uZVZhbGlkYXRlKVxyXG5maWVsZFBob25lLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgKGV2ZW50KSA9PiB7XHJcbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lcnJvckZvcm1cIikpIHtcclxuICAgICAgICBmb3JtLnJlbW92ZUNoaWxkKHdyb25nTnVtYmVyKVxyXG4gICAgICAgIGZpZWxkUGhvbmUuc3R5bGUuYm9yZGVyQ29sb3IgPSBcIiM1NTVcIlxyXG5cclxuICAgIH1cclxufSlcclxuXHJcbmZ1bmN0aW9uIHBob25lVmFsaWRhdGUoZXZlbnQpIHtcclxuICAgIGxldCBwaG9uZU51bWIgPSBmaWVsZFBob25lLnZhbHVlXHJcbiAgICBpZiAoIXBob25lUGF0dGVybi50ZXN0KHBob25lTnVtYikpIHtcclxuICAgICAgICBmaWVsZFBob25lLnN0eWxlLmJvcmRlckNvbG9yID0gXCIjQTQxRDAwXCJcclxuICAgICAgICBmb3JtLmFwcGVuZENoaWxkKHdyb25nTnVtYmVyKVxyXG4gICAgICAgIGZvcm0uc3R5bGUucG9zaXRpb24gPSBcInJlbGF0aXZlXCJcclxuICAgICAgICB3cm9uZ051bWJlci5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIlxyXG4gICAgICAgIHdyb25nTnVtYmVyLnN0eWxlLndpZHRoID0gXCIyMDBweFwiXHJcbiAgICAgICAgd3JvbmdOdW1iZXIuc3R5bGUuaGVpZ2h0ID0gXCIzMHB4XCJcclxuICAgICAgICB3cm9uZ051bWJlci5zdHlsZS50b3AgPSBcIjMwJVwiXHJcbiAgICAgICAgd3JvbmdOdW1iZXIuc3R5bGUubGVmdCA9IFwiMCVcIlxyXG4gICAgICAgIHdyb25nTnVtYmVyLnN0eWxlLmp1c3RpZnlDb250ZW50ID0gXCJjZW50ZXJcIlxyXG4gICAgICAgIHdyb25nTnVtYmVyLnN0eWxlLmFsaWduSXRlbXMgPSBcImNlbnRlclwiXHJcbiAgICAgICAgd3JvbmdOdW1iZXIuc3R5bGUuY29sb3IgPSBcIiNBNDFEMDBcIlxyXG4gICAgICAgIHdyb25nTnVtYmVyLnN0eWxlLmZvbnRTaXplID0gXCIxMnB4XCJcclxuICAgICAgICB3cm9uZ051bWJlci5zdHlsZS5mb250V2VpZ2h0ID0gXCI0MDBcIlxyXG4gICAgICAgIHdyb25nTnVtYmVyLmlubmVySFRNTCA9IFwiSW52YWxpZCBudW1iZXIgZm9ybWF0XCJcclxuICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgIH1cclxufVxyXG5cclxuLy8gKioqIFZJU0lUUyBDT1VOVEVSICoqKiAvL1xyXG5pZiAobG9jYWxTdG9yYWdlLnZpc2l0cyA9PT0gdW5kZWZpbmVkIHx8IGlzTmFOKGxvY2FsU3RvcmFnZS52aXNpdHMpKSB7XHJcbiAgICBsb2NhbFN0b3JhZ2UudmlzaXRzID0gMFxyXG59XHJcbmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwidmlzaXRzXCIsICsrbG9jYWxTdG9yYWdlLnZpc2l0cylcclxuXHJcbi8vICoqKiBMQVNUIFZJU0lUIERBVEUgKioqIC8vXHJcbmxldCBoZWFkZXJCbG9jayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIud2VsY29tZVwiKSxcclxuICAgIGJsb2NrV2l0aEFsZXJ0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIilcclxuXHJcbmJsb2NrV2l0aEFsZXJ0LnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiXHJcbmJsb2NrV2l0aEFsZXJ0LnN0eWxlLmNvbG9yID0gXCIjZGVjNGE5XCJcclxuYmxvY2tXaXRoQWxlcnQuc3R5bGUudG9wID0gXCIwJVwiXHJcbmJsb2NrV2l0aEFsZXJ0LnN0eWxlLmxlZnQgPSBcIjEwJVwiXHJcbmJsb2NrV2l0aEFsZXJ0LnN0eWxlLnJpZ2h0ID0gXCIxMCVcIlxyXG5ibG9ja1dpdGhBbGVydC5jbGFzc0xpc3QuYWRkKFwid2l0aGFsZXJ0XCIpXHJcblxyXG53aW5kb3cub25iZWZvcmV1bmxvYWQgPSAoKSA9PiB7XHJcbiAgICBsZXQgZGF0ZSA9IG5ldyBEYXRlKCkudG9EYXRlU3RyaW5nKClcclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdsYXN0VmlzaXQnLCBkYXRlKVxyXG59XHJcbmlmIChsb2NhbFN0b3JhZ2UubGFzdFZpc2l0ICE9PSB1bmRlZmluZWQpIHtcclxuICAgIGxldCBsYXN0RGF0ZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsYXN0VmlzaXQnKVxyXG4gICAgaWYgKChEYXRlLm5vdygpKSAtIChuZXcgRGF0ZShsYXN0RGF0ZSkuZ2V0VGltZSgpKSA+IDg2NDAwMDAwKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coRGF0ZS5ub3coKSlcclxuICAgICAgICBjb25zb2xlLmxvZyhuZXcgRGF0ZShsYXN0RGF0ZSkuZ2V0VGltZSgpKS8v0YHRltC8INC90YPQu9GW0LJcclxuICAgICAgICBjb25zb2xlLmxvZygoRGF0ZS5ub3coKSkgLSAobmV3IERhdGUobGFzdERhdGUpLmdldFRpbWUoKSkpLy/RgdGW0Lwg0L3Rg9C70ZbQslxyXG4gICAgICAgIGhlYWRlckJsb2NrLnN0eWxlLnBvc2l0aW9uID0gXCJyZWxhdGl2ZVwiXHJcbiAgICAgICAgaGVhZGVyQmxvY2suYXBwZW5kQ2hpbGQoYmxvY2tXaXRoQWxlcnQpXHJcbiAgICAgICAgYmxvY2tXaXRoQWxlcnQuaW5uZXJIVE1MID0gYFlvdXIgbGFzdCB2aXNpdCB3YXMgb24gJHtsYXN0RGF0ZX1gXHJcbiAgICB9XHJcbn0gZWxzZSB7XHJcbiAgICBoZWFkZXJCbG9jay5zdHlsZS5wb3NpdGlvbiA9IFwicmVsYXRpdmVcIlxyXG4gICAgaGVhZGVyQmxvY2suYXBwZW5kQ2hpbGQoYmxvY2tXaXRoQWxlcnQpXHJcbiAgICBibG9ja1dpdGhBbGVydC5pbm5lckhUTUwgPSBgSXRcXGBzIHlvdXIgZmlyc3QgdGltZSBvbiB0aGlzIHNpdGUuIFdlbGNvbWUhYFxyXG59XHJcblxyXG5zZXRUaW1lb3V0KGZ1bmN0aW9uIHJlbW92ZUxhc3RWaXNpdCgpIHtcclxuICAgIGJsb2NrV2l0aEFsZXJ0LnN0eWxlLm9wYWNpdHkgPSBcIjBcIlxyXG4gICAgYmxvY2tXaXRoQWxlcnQuc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVYKC0zMCUpXCJcclxuICAgIGJsb2NrV2l0aEFsZXJ0LnN0eWxlLnRyYW5zaXRpb24gPSBcIjJzXCJcclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLndpdGhhbGVydFwiKSkge1xyXG4gICAgICAgICAgICBoZWFkZXJCbG9jay5yZW1vdmVDaGlsZChibG9ja1dpdGhBbGVydClcclxuICAgICAgICB9XHJcbiAgICB9LCAyMDAwKVxyXG59LCAzMDAwKVxyXG5cclxuLy8gKioqIEhJREUgREVUQUlMUyBTVU1NQVJZLCBXSEVOIElUIE9QRU4gKioqIC8vXHJcbmxldCBibG9nU3VtbWFyaWVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcInN1bW1hcnlcIilcclxuXHJcbmJsb2dTdW1tYXJpZXMuZm9yRWFjaCgoc3VtbWFyeSkgPT4ge1xyXG4gICAgc3VtbWFyeS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhpZGVTdW1tYXJpZXMpXHJcbn0pXHJcblxyXG5mdW5jdGlvbiBoaWRlU3VtbWFyaWVzKGV2ZW50KSB7XHJcbiAgICBldmVudC50YXJnZXQuY2xhc3NMaXN0LnRvZ2dsZShcImludmlzaWJsZVwiKVxyXG59XHJcblxyXG4vLyAqKiogUE9QVVAgKioqLy9cclxubGV0IHBvcHVwTGluayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfbGlua1wiKSxcclxuICAgIHBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9ib2R5XCIpLFxyXG4gICAgcG9wdXBDbG9zZUljb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX2Nsb3NlXCIpLFxyXG4gICAgaGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImhlYWRlclwiKSxcclxuICAgIHBvcHVwQ292ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXHJcblxyXG5wb3B1cExpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgICBib2R5TG9jaygpXHJcbiAgICBwb3B1cE9wZW4oKVxyXG59KVxyXG5cclxucG9wdXBDbG9zZUljb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXHJcblxyXG4gICAgcG9wdXBDbG9zZSgpXHJcbn0pXHJcblxyXG5wb3B1cENvdmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgaWYgKGV2ZW50LnRhcmdldCAhPT0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9jb250ZW50XCIpKSB7XHJcbiAgICAgICAgcG9wdXBDbG9zZSgpXHJcbiAgICB9XHJcbn0pXHJcblxyXG5mdW5jdGlvbiBwb3B1cE9wZW4oKSB7XHJcbiAgICBwb3B1cENvdmVyLnN0eWxlLnBvc2l0aW9uID0gXCJmaXhlZFwiXHJcbiAgICBwb3B1cENvdmVyLnN0eWxlLndpZHRoID0gXCIxMDB2d1wiXHJcbiAgICBwb3B1cENvdmVyLnN0eWxlLmhlaWdodCA9IFwiMTAwdmhcIlxyXG4gICAgcG9wdXBDb3Zlci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInJnYmEoMCwgMCwgMCwgLjgpXCJcclxuICAgIHBvcHVwQ292ZXIuc3R5bGUudG9wID0gXCIwXCJcclxuICAgIHBvcHVwQ292ZXIuc3R5bGUubGVmdCA9IFwiMFwiXHJcbiAgICBwb3B1cENvdmVyLnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIlxyXG4gICAgYm9keS5hcHBlbmRDaGlsZChwb3B1cENvdmVyKVxyXG4gICAgcG9wdXAuY2xhc3NMaXN0LmFkZChcInBvcHVwX29wZW5cIilcclxufVxyXG5cclxuZnVuY3Rpb24gcG9wdXBDbG9zZSgpIHtcclxuICAgIHBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9vcGVuXCIpXHJcbiAgICBib2R5LnJlbW92ZUNoaWxkKHBvcHVwQ292ZXIpXHJcbiAgICBib2R5VW5sb2NrKClcclxufVxyXG5cclxuZnVuY3Rpb24gYm9keUxvY2soKSB7XHJcbiAgICBoZWFkZXIuc3R5bGUucGFkZGluZ1JpZ2h0ID0gd2luZG93LmlubmVyV2lkdGggLSBib2R5Lm9mZnNldFdpZHRoICsgXCJweFwiXHJcbiAgICBib2R5LmNsYXNzTGlzdC5hZGQoXCJsb2NrXCIpXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGJvZHlVbmxvY2soKSB7XHJcbiAgICBoZWFkZXIuc3R5bGUucGFkZGluZ1JpZ2h0ID0gXCIwcHhcIlxyXG4gICAgYm9keS5jbGFzc0xpc3QucmVtb3ZlKFwibG9ja1wiKVxyXG59XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XHJcbiAgICBpZiAoZXZlbnQud2hpY2ggPT09IDI3KSB7XHJcbiAgICAgICAgbGV0IHBvcHVwQWN0aXZlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9vcGVuXCIpXHJcbiAgICAgICAgcG9wdXBDbG9zZShwb3B1cEFjdGl2ZSlcclxuICAgIH1cclxufSlcclxuXHJcbi8vICoqKiBEUkFHIEFORCBEUk9QIEZPUiBQT1BVUCAqKiogLy9cclxucG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgZHJhZylcclxuXHJcbmZ1bmN0aW9uIGRyYWcoZXZlbnQpIHtcclxuICAgIGxldCBzaGlmdFggPSBldmVudC5jbGllbnRYIC0gcG9wdXAuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCxcclxuICAgICAgICBzaGlmdFkgPSBldmVudC5jbGllbnRZIC0gcG9wdXAuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wXHJcbiAgICBwb3B1cC5zdHlsZS56SW5kZXggPSBcIjEwMDBcIlxyXG4gICAgcG9wdXAuc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGUoMCwwKVwiXHJcblxyXG5cclxuICAgIG1vdmVQb3B1cChldmVudC5wYWdlWCwgZXZlbnQucGFnZVkpXHJcblxyXG4gICAgZnVuY3Rpb24gbW92ZVBvcHVwKHBhZ2VYLCBwYWdlWSkge1xyXG4gICAgICAgIHBvcHVwLnN0eWxlLmxlZnQgPSBwYWdlWCAtIHNoaWZ0WCArIFwicHhcIlxyXG4gICAgICAgIHBvcHVwLnN0eWxlLnRvcCA9IHBhZ2VZIC0gc2hpZnRZICsgXCJweFwiXHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gb25Nb3VzZU1vdmUoZXZlbnQpIHtcclxuICAgICAgICBtb3ZlUG9wdXAoZXZlbnQucGFnZVgsIGV2ZW50LnBhZ2VZKVxyXG4gICAgfVxyXG5cclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG9uTW91c2VNb3ZlKVxyXG4gICAgcG9wdXAub25tb3VzZXVwID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG9uTW91c2VNb3ZlKVxyXG4gICAgICAgIHBvcHVwLm9ubW91c2V1cCA9IG51bGxcclxuICAgIH1cclxufVxyXG5cclxuLy8gKioqIERSQUcgRk9SIFNJR04gSU4gQlVUVE9OICoqKiAvL1xyXG5sZXQgcG9wVXBCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2pzX3BvcHVwX2J1dHRvblwiKSxcclxuICAgIHdyYXBQb3BVcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIud3JhcHBlclwiKSxcclxuICAgIGZpZ3VyZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnNxdWFyZVwiKSxcclxuICAgIGxldmVscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubGV2ZWxcIiksXHJcbiAgICB3ZWxjb21lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi53ZWxjb21lIGgxXCIpLFxyXG4gICAgZHJhZ09iamVjdCxcclxuICAgIGRyb3BQb2ludCxcclxuICAgIGRyb3BQb2ludHMgPSBbXSxcclxuICAgIGtleXMgPSBbWzUsIDMsIDhdLCBbN10sIFsyLCA0XSwgWzYsIDFdXVxyXG5cclxucG9wVXBCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzbWFsbENoZWNrKVxyXG5cclxuZnVuY3Rpb24gc21hbGxDaGVjaygpIHtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcclxuICAgIGxldCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKSxcclxuICAgICAgICBpbnB1dExvZ2luID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNqc05hbWVQb3B1cFwiKSxcclxuICAgICAgICBpbnB1dFBhc3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2pzUGhvbmVQb3B1cFwiKSxcclxuICAgICAgICBwYXJhbXMgPSBgbG9naW49JHtpbnB1dExvZ2luLnZhbHVlfSZwYXNzPSR7aW5wdXRQYXNzLnZhbHVlfWBcclxuXHJcbiAgICB4aHIub3BlbihcIlBPU1RcIiwgXCJwaHAvbG9naW4ucGhwXCIsIHRydWUpXHJcbiAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtVHlwZVwiLCBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiKVxyXG4gICAgeGhyLnNlbmQocGFyYW1zKVxyXG4gICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgIT09IDQpIHJldHVyblxyXG4gICAgICAgIGlmICh4aHIuc3RhdHVzICE9PSAyMDApIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coeGhyLnN0YXR1cyArIFwiXCIgKyB4aHIuc3RhdHVzVGV4dClcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoeGhyLnJlc3BvbnNlVGV4dCkge1xyXG4gICAgICAgICAgICAgICAgcG9wdXBDbG9zZSgpXHJcbiAgICAgICAgICAgICAgICB3cmFwUG9wVXAuY2xhc3NMaXN0LmFkZChcImZsZXhcIilcclxuICAgICAgICAgICAgICAgIHdyYXBQb3BVcC5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCJcclxuICAgICAgICAgICAgICAgIHdyYXBQb3BVcC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIndoaXRlXCJcclxuICAgICAgICAgICAgICAgIHdyYXBQb3BVcC5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIlxyXG4gICAgICAgICAgICAgICAgd3JhcFBvcFVwLnN0eWxlLnRvcCA9IFwiNTAlXCJcclxuICAgICAgICAgICAgICAgIHdyYXBQb3BVcC5zdHlsZS5sZWZ0ID0gXCI1MCVcIlxyXG4gICAgICAgICAgICAgICAgd3JhcFBvcFVwLnN0eWxlLnpJbmRleCA9IFwiMTUwMFwiXHJcbiAgICAgICAgICAgICAgICB3cmFwUG9wVXAuc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGUoLTUwJSwgLTUwJSlcIlxyXG4gICAgICAgICAgICAgICAgcG9wdXBDb3Zlci5zdHlsZS5wb3NpdGlvbiA9IFwiZml4ZWRcIlxyXG4gICAgICAgICAgICAgICAgcG9wdXBDb3Zlci5zdHlsZS53aWR0aCA9IFwiMTAwdndcIlxyXG4gICAgICAgICAgICAgICAgcG9wdXBDb3Zlci5zdHlsZS5oZWlnaHQgPSBcIjEwMHZoXCJcclxuICAgICAgICAgICAgICAgIHBvcHVwQ292ZXIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJyZ2JhKDAsIDAsIDAsIC44KVwiXHJcbiAgICAgICAgICAgICAgICBwb3B1cENvdmVyLnN0eWxlLnRvcCA9IFwiMFwiXHJcbiAgICAgICAgICAgICAgICBwb3B1cENvdmVyLnN0eWxlLmxlZnQgPSBcIjBcIlxyXG4gICAgICAgICAgICAgICAgcG9wdXBDb3Zlci5zdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCJcclxuICAgICAgICAgICAgICAgIGJvZHkuYXBwZW5kQ2hpbGQocG9wdXBDb3ZlcilcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGFsZXJ0KFwiZ28gYXdheSFcIilcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5maWd1cmVzLmZvckVhY2goKGZpZ3VyZSkgPT4ge1xyXG4gICAgZmlndXJlLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGZpZ3VyZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWNvbG9yXCIpXHJcbiAgICBmaWd1cmUuc3R5bGUuY3Vyc29yID0gXCJwb2ludGVyXCJcclxuICAgIGZpZ3VyZS5pbnNlcnRBZGphY2VudEhUTUwoXCJiZWZvcmViZWdpblwiLCBcIjxkaXYgY2xhc3M9J2Ryb3BfcG9pbnQnPjwvZGl2PlwiKVxyXG4gICAgZHJvcFBvaW50cy5wdXNoKGZpZ3VyZS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKVxyXG4gICAgZmlndXJlLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIHN0YXJ0RHJhZylcclxuICAgIGZpZ3VyZS5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW5kJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZpZ3VyZS5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZVwiKVxyXG4gICAgfSlcclxufSlcclxuXHJcbmRyb3BQb2ludHMuZm9yRWFjaCgocG9pbnQpID0+IHtcclxuICAgIHBvaW50LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdlbnRlcicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gcG9pbnQpIHtcclxuICAgICAgICAgICAgcG9pbnQuY2xhc3NMaXN0LmFkZChcImRyb3BfcG9pbnRfaG92ZXJcIilcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG4gICAgcG9pbnQuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2xlYXZlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHBvaW50LmNsYXNzTGlzdC5yZW1vdmUoXCJkcm9wX3BvaW50X2hvdmVyXCIpXHJcbiAgICB9KVxyXG4gICAgcG9pbnQuYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBwb2ludC5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2JlZm9yZWJlZ2luJywgZHJhZ09iamVjdClcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgcG9pbnQuY2xhc3NMaXN0LnJlbW92ZShcImRyb3BfcG9pbnRfaG92ZXJcIilcclxuICAgICAgICB9LCAwKVxyXG4gICAgfSlcclxufSlcclxuXHJcbmZ1bmN0aW9uIHN0YXJ0RHJhZygpIHtcclxuICAgIGRyYWdPYmplY3QgPSB0aGlzXHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICBkcmFnT2JqZWN0LmNsYXNzTGlzdC5hZGQoXCJoaWRlXCIpXHJcbiAgICAgICAgZHJvcFBvaW50ID0gZHJhZ09iamVjdC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nXHJcbiAgICAgICAgZHJvcFBvaW50LmNsYXNzTGlzdC5hZGQoXCJoaWRlXCIpXHJcblxyXG4gICAgfSwgMClcclxufVxyXG5cclxubGV2ZWxzLmZvckVhY2goKGxldmVsKSA9PiB7XHJcbiAgICBsZXZlbC5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW50ZXInLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgICAgICAgbGV2ZWwuY2xhc3NMaXN0LmFkZChcImRhc2hlZFwiKVxyXG5cclxuICAgIH0pXHJcbiAgICBsZXZlbC5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcclxuICAgIH0pXHJcbiAgICBsZXZlbC5hZGRFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICBsZXZlbC5jbGFzc0xpc3QucmVtb3ZlKFwiZGFzaGVkXCIpXHJcbiAgICB9KVxyXG4gICAgbGV2ZWwuYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIGxldmVsLmNsYXNzTGlzdC5yZW1vdmUoXCJkYXNoZWRcIilcclxuICAgICAgICBpZiAoIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZHJvcF9wb2ludF9ob3ZlclwiKSkge1xyXG4gICAgICAgICAgICBsZXZlbC5hcHBlbmRDaGlsZChkcmFnT2JqZWN0KVxyXG4gICAgICAgIH1cclxuICAgICAgICBkcmFnT2JqZWN0Lmluc2VydEFkamFjZW50RWxlbWVudChcImJlZm9yZWJlZ2luXCIsIGRyb3BQb2ludClcclxuICAgICAgICBkcm9wUG9pbnQuY2xhc3NMaXN0LnJlbW92ZShcImhpZGVcIilcclxuICAgICAgICBjaGVja0JhbmRpdCgpXHJcbiAgICB9KVxyXG59KVxyXG5cclxuZnVuY3Rpb24gY2hlY2tCYW5kaXQoKSB7XHJcbiAgICBsZXQgbGV2ZWwwID0gbGV2ZWxzWzBdLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc3F1YXJlXCIpLFxyXG4gICAgICAgIGxldmVsMSA9IGxldmVsc1sxXS5xdWVyeVNlbGVjdG9yQWxsKFwiLnNxdWFyZVwiKSxcclxuICAgICAgICBsZXZlbDIgPSBsZXZlbHNbMl0ucXVlcnlTZWxlY3RvckFsbChcIi5zcXVhcmVcIiksXHJcbiAgICAgICAgbGV2ZWwzID0gbGV2ZWxzWzNdLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc3F1YXJlXCIpLFxyXG4gICAgICAgIGNvcnJlY3QgPSAwXHJcbiAgICBsZXZlbDAuZm9yRWFjaCgoZWwsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgaWYgKGVsLmdldEF0dHJpYnV0ZShcImRhdGEtbnVtYmVyXCIpICE9IGtleXNbMF1baW5kZXhdKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwid3JvbmdcIilcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgICAgfSBlbHNlIGNvcnJlY3QrK1xyXG4gICAgfSlcclxuICAgIGxldmVsMS5mb3JFYWNoKChlbCwgaW5kZXgpID0+IHtcclxuICAgICAgICBpZiAoZWwuZ2V0QXR0cmlidXRlKFwiZGF0YS1udW1iZXJcIikgIT0ga2V5c1sxXVtpbmRleF0pIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJ3cm9uZzFcIilcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgICAgfSBlbHNlIGNvcnJlY3QrK1xyXG4gICAgfSlcclxuICAgIGxldmVsMi5mb3JFYWNoKChlbCwgaW5kZXgpID0+IHtcclxuICAgICAgICBpZiAoZWwuZ2V0QXR0cmlidXRlKFwiZGF0YS1udW1iZXJcIikgIT0ga2V5c1syXVtpbmRleF0pIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJ3cm9uZzJcIilcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgICAgfSBlbHNlIGNvcnJlY3QrK1xyXG4gICAgfSlcclxuICAgIGxldmVsMy5mb3JFYWNoKChlbCwgaW5kZXgpID0+IHtcclxuICAgICAgICBpZiAoZWwuZ2V0QXR0cmlidXRlKFwiZGF0YS1udW1iZXJcIikgIT0ga2V5c1szXVtpbmRleF0pIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJ3cm9uZzNcIilcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgICAgfSBlbHNlIGNvcnJlY3QrK1xyXG4gICAgfSlcclxuICAgIGlmIChjb3JyZWN0ID09PSBmaWd1cmVzLmxlbmd0aCkge1xyXG4gICAgICAgIHdlbGNvbWUuaW5uZXJUZXh0ID0gXCJXRUxDT01FIEtBVFlBIVwiXHJcbiAgICAgICAgd3JhcFBvcFVwLmNsYXNzTGlzdC5yZW1vdmUoXCJmbGV4XCIpXHJcbiAgICAgICAgd3JhcFBvcFVwLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIlxyXG4gICAgICAgIGJvZHkucmVtb3ZlQ2hpbGQocG9wdXBDb3ZlcilcclxuICAgIH1cclxufVxyXG5cclxuXHJcbiJdfQ==
